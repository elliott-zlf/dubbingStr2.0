{"version":3,"sources":["uni-app:///main.js","webpack:////Users/elliott/Desktop/dubbingStr2.0/pages/TUI-Conversation/conversation/conversation.vue?0b44","webpack:////Users/elliott/Desktop/dubbingStr2.0/pages/TUI-Conversation/conversation/conversation.vue?03e7","webpack:////Users/elliott/Desktop/dubbingStr2.0/pages/TUI-Conversation/conversation/conversation.vue?1c95","webpack:////Users/elliott/Desktop/dubbingStr2.0/pages/TUI-Conversation/conversation/conversation.vue?1921","uni-app:///pages/TUI-Conversation/conversation/conversation.vue","webpack:////Users/elliott/Desktop/dubbingStr2.0/pages/TUI-Conversation/conversation/conversation.vue?a0c3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","onLoad","getConversationList","uni","$TUIKit","on","$TUIKitEvent","CONVERSATION_LIST_UPDATED","onConversationListUpdated","onUnload","off","SDK_READY","methods","handleRoute","navigateTo","url","setData","conversationList","event","data","then","imResponse","showMore","showSelectTag","learnMore","handleOnTap","currentTarget","dataset","name","goHomePage","switchTab","handleEditToggle","$createConversation","$createGroup","$joinGroup"],"mappings":";;;;wEAAA,qBACA,sBACA,yE,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a;;;;2DCHX,iUACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uDACZ,aAAAF,E;;;;2GCvBf,6zC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,i5BAA01B,eAAG,G;;;;0IC0B71B,oC,wlBAIA,CACA,KADA,WAEA,OACA,oBACA,iBACA,QACA,aACA,CACA,aACA,CACA,gBAKA,YACA,sBACA,kBAEA,SAKEC,OAxBF,WA0BIR,KAAKS,sBACLC,EAAIC,QAAQC,GAAGF,EAAIG,aAAaC,0BAA2Bd,KAAKe,4BAMlEC,SAjCF,WAkCIN,EAAIC,QAAQM,IAAIP,EAAIG,aAAaK,UAAWlB,KAAKe,4BAGnDI,QAAS,CACPC,YADJ,SACA,GACM,IAAN,kDACMV,EAAIW,WAAW,CACbC,IAAR,KAGIP,0BAPJ,SAOA,GACM,EAAN,iEACMf,KAAKuB,QAAQ,CACXC,iBAAkBC,EAAMC,QAI5BjB,oBAdJ,WAcA,WACMC,EAAIC,QAAQF,sBAAsBkB,MAAK,SAA7C,GACQ,EAAR,4HACQ,EAAR,SACUH,iBAAkBI,EAAWF,KAAKF,uBAKxCK,SAvBJ,WAwBM7B,KAAKuB,QAAQ,CACXO,eAAgB9B,KAAK8B,iBAIzBC,UA7BJ,WA8BMrB,EAAIW,WAAW,CACbC,IAAK,oFAITU,YAnCJ,SAmCA,cACMhC,KAAKuB,QAAQ,CACXO,eAAe,IACjB,WACE,OAAQL,EAAMQ,cAAcC,QAAQC,MAClC,IAAK,OACH,EAAZ,sBACY,MAEF,IAAK,OACH,EAAZ,eACY,MAEF,IAAK,OACH,EAAZ,aAEU,QACE,WAKRC,WAzDJ,WA2DM1B,EAAI2B,UAAU,CACZf,IAAK,2BAITgB,iBAhEJ,WAiEMtC,KAAKuB,QAAQ,CACXO,eAAe,KAInBS,oBAtEJ,WAuEM7B,EAAIW,WAAW,CACbC,IAAK,mCAITkB,aA5EJ,WA6EM9B,EAAIW,WAAW,CACbC,IAAK,yCAITmB,WAlFJ,WAmFM/B,EAAIW,WAAW,CACbC,IAAK,uC;;;;2DCvJb,sxCAA+tC,eAAG,G","file":"pages/TUI-Conversation/conversation/conversation.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/TUI-Conversation/conversation/conversation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./conversation.vue?vue&type=template&id=96558e3e&scoped=true&\"\nvar renderjs\nimport script from \"./conversation.vue?vue&type=script&lang=js&\"\nexport * from \"./conversation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./conversation.vue?vue&type=style&index=0&id=96558e3e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"96558e3e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/TUI-Conversation/conversation/conversation.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversation.vue?vue&type=template&id=96558e3e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversation.vue?vue&type=script&lang=js&\"","<template>\n<view class=\"container-conversation\">\n    <view class=\"scroll-box\">\n        <view class=\"uni-list margintop-bar\">\n            <view v-for=\"item in conversationList\" :key=\"item.conversationID\" @tap=\"handleRoute(item.conversationID)\">\n                <TUI-conversation-item  :data-type=\"item.type\" :conversation=\"item\">\n                </TUI-conversation-item>\n            </view>\n        </view>\n    </view>\n    <view class=\"bottom-back\">\n        <view class=\"bottom-area\">\n            <view v-if=\"showSelectTag\" class=\"conversation-bubble\" @tap.stop=\"handleEditToggle\">\n                <view v-for=\"(item, index) in array\" :key=\"index\" class=\"picker\" :data-name=\"item.name\" @tap=\"handleOnTap\">\n                    {{item.name}}\n                </view>\n            </view>\n            <image @tap=\"showMore\" class=\"btn-show-more\" src=\"/static/static/assets/add.svg\"></image>\n        <view @tap=\"learnMore\" class=\"im-link\">了解更多IM功能</view>\n      </view>\n    </view>\n</view>\n</template>\n<!-- 这里有个加载的补丁逻辑待优化，页面向SDK请求conversationList的时候会有时延，\n造成页面的一个抖动，这里加一个if逻辑打一个补丁，后续继续优化 -->\n<script>\nimport logger from '@/utils/logger';\nimport TUIConversationItem from \"@/components/tui-conversation/conversation-item/index\";\nimport TUIMessageList from \"@/components/tui-chat/message-list/index\";\n\nexport default {\n  data() {\n    return {\n      conversationList: [],\n      showSelectTag: false,\n      array: [{\n        name: '发起会话'\n      }, {\n        name: '发起群聊'\n      }, {\n        name: '加入群聊'\n      }]\n    };\n  },\n\n  components: {\n    TUIConversationItem,\n    TUIMessageList\n  },\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad() {\n    // 登入后拉去会话列表\n    this.getConversationList();\n    uni.$TUIKit.on(uni.$TUIKitEvent.CONVERSATION_LIST_UPDATED, this.onConversationListUpdated);\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload() {\n    uni.$TUIKit.off(uni.$TUIKitEvent.SDK_READY, this.onConversationListUpdated);\n  },\n\n  methods: {\n    handleRoute(id) {\n      const url = `../../TUI-Chat/chat?conversationID=${id}`;\n      uni.navigateTo({\n        url\n      });\n    },\n    onConversationListUpdated(event) {\n      logger.log('TUI-conversation | onConversationListUpdated  |ok');\n      this.setData({\n        conversationList: event.data\n      });\n    },\n\n    getConversationList() {\n      uni.$TUIKit.getConversationList().then(imResponse => {\n        logger.log(`TUI-conversation | getConversationList | getConversationList-length: ${imResponse.data.conversationList.length}`);\n        this.setData({\n          conversationList: imResponse.data.conversationList\n        });\n      });\n    },\n\n    showMore() {\n      this.setData({\n        showSelectTag: !this.showSelectTag\n      });\n    },\n\n    learnMore() {\n      uni.navigateTo({\n        url: '../../TUI-User-Center/webview/webview?url=https://cloud.tencent.com/product/im'\n      });\n    },\n\n    handleOnTap(event) {\n      this.setData({\n        showSelectTag: false\n      }, () => {\n        switch (event.currentTarget.dataset.name) {\n          case '发起会话':\n            this.$createConversation();\n            break;\n\n          case '发起群聊':\n            this.$createGroup();\n            break;\n\n          case '加入群聊':\n            this.$joinGroup();\n\n          default:\n            break;\n        }\n      });\n    },\n\n    goHomePage() {\n      // uni.navigateTo 不能跳转到 tabbar 页面，使用 uni.switchTab 代替\n      uni.switchTab({\n        url: '../../TUI-Index/index'\n      });\n    },\n\n    handleEditToggle() {\n      this.setData({\n        showSelectTag: false\n      });\n    },\n\n    $createConversation() {\n      uni.navigateTo({\n        url: '../create-conversation/create'\n      });\n    },\n\n    $createGroup() {\n      uni.navigateTo({\n        url: '../../TUI-Group/create-group/create'\n      });\n    },\n\n    $joinGroup() {\n      uni.navigateTo({\n        url: '../../TUI-Group/join-group/join'\n      });\n    }\n\n  }\n};\n</script>\n<style scoped>\n@import \"./conversation.css\";\n\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversation.vue?vue&type=style&index=0&id=96558e3e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversation.vue?vue&type=style&index=0&id=96558e3e&scoped=true&lang=css&\""],"sourceRoot":""}