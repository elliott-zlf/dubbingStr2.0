{"version":3,"sources":["webpack:////Users/elliott/Desktop/dubbingStr2.0/components/submitform/submitform.vue?c0ad","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/submitform/submitform.vue?6076","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/submitform/submitform.vue?d1c8","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/submitform/submitform.vue?87be","uni-app:///components/submitform/submitform.vue","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/submitform/submitform.vue?439c","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/submitform/submitform.vue?1e62"],"names":["renderjs","component","options","__file","components","lFile","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","name","props","bottomTitle","type","Boolean","required","teachrID","String","data","texterheight","form","tag_data","audition_text","audition_url","content","content_url","teacher_id","multiArray","multiIndex","textareanum","fileShow","musicShow","subjectShow","uploaditem","submittime","created","getTagAll","mounted","computed","methods","log","res","map","themeArray","id","sexArray","styleArray","handleInputEvents","length","submit","getUserInfo","uni","showLoading","getUserProfile","desc","success","fail","showToast","title","icon","mask","complete","hideLoading","handleUploadFile","handleDeleteFile","bindMultiPickerColumnChange","hadleUpdate","clearTimeout","timeId","handleSubjectValue","subject","label"],"mappings":"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","file":"components/submitform/submitform.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./submitform.vue?vue&type=template&id=d7665b78&\"\nvar renderjs\nimport script from \"./submitform.vue?vue&type=script&lang=js&\"\nexport * from \"./submitform.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submitform.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./submitform.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/submitform/submitform.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitform.vue?vue&type=template&id=d7665b78&\"","var components\ntry {\n  components = {\n    lFile: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/l-file/components/l-file/l-file\" */ \"@/uni_modules/l-file/components/l-file/l-file.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitform.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitform.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"home_demand_box\">\r\n    <view class=\"home_title_slogan_box\">\r\n      <image\r\n        class=\"slogan_icon\"\r\n        src=\"@/static/home/lefticon.png\"\r\n        mode=\"scaleToFill\"\r\n      />\r\n      <text class=\"title_slogan\">填写需求，免费试音</text>\r\n      <image\r\n        class=\"slogan_icon\"\r\n        src=\"@/static/home/righticon.png\"\r\n        mode=\"scaleToFill\"\r\n      />\r\n    </view>\r\n    <view v-if=\"subTitle\" class=\"subtitle\"\r\n      >从<text class=\"subtitle_color\">500+</text>优质配音师中为您<text\r\n        class=\"subtitle_color\"\r\n        >精准匹配</text\r\n      ></view\r\n    >\r\n    <view class=\"home_from_box\">\r\n      <view class=\"requirementsbox\">\r\n        <view class=\"label_text\">\r\n          <text class=\"subtitle_color\">*</text>\r\n          <text>要求</text>\r\n        </view>\r\n        <!-- #ifndef MP-ALIPAY -->\r\n        <picker\r\n          mode=\"multiSelector\"\r\n          @columnchange=\"bindMultiPickerColumnChange\"\r\n          :value=\"multiIndex\"\r\n          :range=\"multiArray\"\r\n          range-key=\"value\"\r\n        >\r\n          <view class=\"drop_down_select_box\">\r\n            <view class=\"drop_down_box\">\r\n              <text class=\"drop_down_text\">{{\r\n                multiArray[0][multiIndex[0]].value\r\n              }}</text>\r\n              <image\r\n                class=\"drop_down_img\"\r\n                src=\"@/static/home/drop-down.png\"\r\n                mode=\"scaleToFill\"\r\n              />\r\n            </view>\r\n            <view class=\"drop_down_box\">\r\n              <text class=\"drop_down_text\">{{\r\n                multiArray[1][multiIndex[1]].value\r\n              }}</text>\r\n              <image\r\n                class=\"drop_down_img\"\r\n                src=\"@/static/home/drop-down.png\"\r\n                mode=\"scaleToFill\"\r\n              />\r\n            </view>\r\n            <view class=\"drop_down_box\">\r\n              <text class=\"drop_down_text\">{{\r\n                multiArray[2][multiIndex[2]].value\r\n              }}</text>\r\n              <image\r\n                class=\"drop_down_img\"\r\n                src=\"@/static/home/drop-down.png\"\r\n                mode=\"scaleToFill\"\r\n              />\r\n            </view>\r\n          </view>\r\n          <!-- <view class=\"uni-input\">{{multiArray[0][multiIndex[0]]}}，{{multiArray[1][multiIndex[1]]}}，{{multiArray[2][multiIndex[2]]}}</view> -->\r\n        </picker>\r\n        <!-- #endif -->\r\n      </view>\r\n      <view class=\"home_textbox margintop10\">\r\n        <view class=\"label_text\">\r\n          <text class=\"subtitle_color\">*</text>\r\n          <text>文本</text>\r\n        </view>\r\n        <view class=\"home_textarea_box\">\r\n          <view class=\"textarea_box\">\r\n            <textarea\r\n              class=\"textareainput\"\r\n              v-model=\"form.audition_text\"\r\n              :disable-default-padding=\"true\"\r\n              placeholder=\"输入20-200字的试音文本，或直接上传文稿；\"\r\n              maxlength=\"200\"\r\n              placeholder-class=\"textarea-placeholder\"\r\n              @input=\"handleInputEvents\"\r\n            />\r\n          </view>\r\n          <view class=\"statistical_box\">\r\n            <view class=\"textarea_num\">\r\n              <text>{{ textareanum }}</text>\r\n              <text>/200</text>\r\n            </view>\r\n            <view class=\"home_upload_box\">\r\n              <view v-if=\"fileShow\" class=\"home_upload\" @click=\"onUpload('file')\">上传</view>\r\n              <view\r\n                v-else\r\n                class=\"upload_successful_box\"\r\n                @click=\"handleDeleteFile('file')\"\r\n              >\r\n                <image\r\n                  class=\"deletefile_img\"\r\n                  src=\"@/static/home/deletefile.png\"\r\n                  mode=\"scaleToFill\"\r\n                />\r\n                <image\r\n                  class=\"successful_img\"\r\n                  src=\"@/static/home/wordicon.png\"\r\n                  mode=\"scaleToFill\"\r\n                />\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"note_box margintop10\">\r\n        <view class=\"label_text\">\r\n          <text>备注</text>\r\n        </view>\r\n        <view class=\"note_text_box\">\r\n          <input\r\n            v-model=\"form.content\"\r\n            class=\"note_text\"\r\n            type=\"text\"\r\n            placeholder=\"输入其他要求或上传参考样音\"\r\n            placeholder-class=\"textarea-placeholder\"\r\n          />\r\n        </view>\r\n        <view class=\"home_upload_box\">\r\n          <view v-if=\"musicShow\" class=\"home_upload\"  @tap=\"onUpload('music')\">上传</view>\r\n          <view v-else class=\"upload_successful_box\" @click=\"handleDeleteFile('music')\">\r\n            <image\r\n              class=\"deletefile_img\"\r\n              src=\"@/static/home/deletefile.png\"\r\n              mode=\"scaleToFill\"\r\n            />\r\n            <image\r\n              class=\"successful_img\"\r\n              src=\"@/static/home/mp3icon.png\"\r\n              mode=\"scaleToFill\"\r\n            />\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"home_submit_box\">\r\n        <view class=\"submit_btn\" @tap=\"submit\">立即匹配 配音师试音</view>\r\n      </view>\r\n      <view v-if=\"bottomTitle\" class=\"submit_remind\">配音师会在10分钟内快速出试音</view>\r\n    </view>\r\n    <l-file ref=\"lFile\" @up-success=\"onSuccess\"></l-file>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { homeTag,loginStatus,demandPublish,profileUpdate } from '@/api/index.js'\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"submitform\",\r\n  props: {\r\n\t  subTitle: {\r\n\t\ttype: Boolean,\r\n\t\trequired: true  \r\n\t  },\r\n\t  btnText: {\r\n\t\t  type: String,\r\n\t\t  required: '立即匹配 配音师试音'\r\n\t  },\r\n    bottomTitle: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    teachrID: {\r\n      type: String,\r\n\t\t  required: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      texterheight: \"70\",\r\n      form: {\r\n        tag_data: {\r\n          '2': '',\r\n          '1': '',\r\n          '5': ''\r\n        },\r\n        audition_text: '',\r\n        audition_url: '',\r\n        content: '',\r\n        content_url: '',\r\n        teacher_id: ''\r\n      },\r\n      multiArray: [],\r\n      multiIndex: [0, 0, 0],\r\n      textareanum: 0,\r\n      fileShow: true,\r\n      musicShow: true,\r\n      subjectShow: false,\r\n      uploaditem: '',\r\n      submittime: true,\r\n    };\r\n  },\r\n  created() {\r\n    this.getTagAll()\r\n  },\r\n  mounted() {\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"token\",\"userId\"]),\r\n  },\r\n  methods: {\r\n    // 获取标签列表\r\n    getTagAll() {\r\n      homeTag().then((res)=>{\r\n        console.log('标签列表数据',res)\r\n        let themeArray=[]\r\n        let sexArray = []\r\n        let styleArray= []\r\n        res.data.map((item)=>{\r\n           if(item.value===\"题材\") {\r\n              themeArray=item.tags\r\n           }else if(item.value===\"性别\") {\r\n              sexArray=item.tags\r\n           }else if (item.value===\"风格\"){\r\n              styleArray=item.tags\r\n           }\r\n        })\r\n        this.multiArray = [themeArray,sexArray,styleArray]\r\n        this.form.tag_data={\r\n          '2': themeArray[0].id,\r\n          '1': sexArray[0].id,\r\n          '5': styleArray[0].id\r\n        }\r\n        console.log('标签列表数据合并后的数据', this.multiArray)\r\n      })\r\n    },\r\n    // 计算输入框的字数\r\n    handleInputEvents() {\r\n      this.textareanum = this.form.audition_text.length;\r\n    },\r\n    // 提交订单\r\n    submit() {\r\n      if (!this.submittime) {\r\n         return;\r\n      }\r\n      if(this.form.audition_text=='' && this.form.audition_url=='') {\r\n          uni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入20字以上的成品文本，或直接上传文稿\",\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t});\r\n      }else if(this.form.audition_url=='' && this.form.audition_text !=='' && this.form.audition_text.length < 20){\r\n        console.log('上传附件',this.form.text)\r\n         uni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入20字以上的成品文本，或直接上传文稿\",\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t});\r\n      }else {\r\n        loginStatus().then((res)=>{\r\n           console.log('登录状态', res)\r\n           if(res.data.nickname===0) {\r\n             this.getUserInfo()\r\n           }else {\r\n              const formData = {\r\n                \"audition_text\": this.form.audition_text,\r\n                \"audition_url\": this.form.audition_url,\r\n                \"content\": this.form.content,\r\n                \"content_url\": this.form.content_url,\r\n                \"teacher_id\": this.teachrID,\r\n                \"tag_data\":  this.form.tag_data,\r\n              }\r\n              this.submittime = false\r\n              demandPublish(formData).then((res)=>{\r\n                this.submittime = true\r\n                uni.showToast({\r\n                    title: \"请输入20字以上的成品文本，或直接上传文稿\",\r\n                    icon: 'none',\r\n                    mask: true,\r\n                    duration: 3000\r\n                });\r\n                this.fileShow = true\r\n                this.musicShow = true\r\n                this.form.audition_text=''\r\n                this.form.audition_url=''\r\n                this.form.content=''\r\n                this.form.content_url = ''\r\n                this.form.teacher_id = ''\r\n                this.form.tag_data = {}\r\n                uni.navigateTo({\r\n                  url: '/subpkg/pages/demanddetails/demanddetails?id='+ res.data+'&status=0',\r\n              });\r\n              }).catch(err=>{\r\n                this.submittime = true\r\n                console.log(err)\r\n              })\r\n           }\r\n        })\r\n      }\r\n    },\r\n    // 获取用户资料\r\n    getUserInfo() {\r\n      uni.showLoading({\r\n          title: \"加载中\",\r\n        });\r\n      uni.getUserProfile({\r\n        desc: \"登录后可发布需求\",\r\n        success: async (obj) => {\r\n          uni.showToast({\r\n            title: \"授权成功\",\r\n            icon: \"default\",\r\n            mask: true,\r\n          });\r\n          console.log('获取个人信息',obj)\r\n          const userobj = {\r\n            nickname: obj.userInfo.nickName,\r\n            userId: this.userId,\r\n            avatar: obj.userInfo.avatarUrl,\r\n            phone: ''\r\n          }\r\n          await profileUpdate(userobj);\r\n          this.submit()\r\n        },\r\n        fail: () => {\r\n          uni.showToast({\r\n            title: \"授权已取消\",\r\n            icon: \"default\",\r\n            mask: true,\r\n          });\r\n        },\r\n        complete: () => {\r\n          // 隐藏loading\r\n          uni.hideLoading();\r\n        },\r\n      });   \r\n    },\r\n    // 上传文件\r\n    handleUploadFile() {\r\n\r\n    },\r\n\t  // 删除文件事件\r\n    handleDeleteFile(item) {\r\n      if(item==='file') {\r\n        this.fileShow = true;\r\n      }else {\r\n        this.musicShow = true;\r\n      }\r\n    },\r\n\t  // 选择框的值\r\n    bindMultiPickerColumnChange(e) {\r\n      console.log(\r\n        \"修改的列为：\" + e.detail.column + \"，值为：\" + e.detail.value\r\n      );\r\n\t  this.multiIndex[e.detail.column] = e.detail.value\r\n\t  switch (e.detail.column) {\r\n\t\t  case 0:\r\n\t\t\t  this.form.tag_data['2'] = this.multiArray[e.detail.column][e.detail.value].id\r\n\t\t\t  break;\r\n\t      case 1:\r\n        this.form.tag_data['1'] = this.multiArray[e.detail.column][e.detail.value].id\r\n\t\t\t  break;\r\n\t\t  case 2:\r\n        this.form.tag_data['5']= this.multiArray[e.detail.column][e.detail.value].id\r\n\t\t  default:\r\n\t\t\t  break;\r\n\t  }\r\n\t  console.log('选择数据的值', this.form)\r\n\t  this.$forceUpdate()\r\n    },\r\n    // 更新text数据\r\n    hadleUpdate() {\r\n      if(!this.form.audition_text){\r\n        this.form.audition_text='输入20-200字的试音文本，或直接上传文稿；';\r\n        let timeId=setTimeout(()=>{\r\n          this.form.audition_text='';\r\n          clearTimeout(timeId);\r\n        },50);\r\n          }\r\n    },\r\n    handleSubjectValue(e) {\r\n      console.log(\"题材的值\", e);\r\n      this.form.subject = e[0].label;\r\n    },\r\n     /* 上传 */\r\n\t\tonUpload(item) { \r\n\t\t\t\tlet platform =  uni.getSystemInfoSync().platform\r\n        if (platform == 'android' || platform == 'ios' || platform == 'devtools') {\r\n          console.log('有没有走onUpload',platform,this.$refs.lFile)\r\n          this.uploaditem = item\r\n\t\t\t\t\tthis.$refs.lFile.upload({\r\n\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t// nvue页面使用时请查阅nvue获取当前webview的api，当前示例为vue窗口\r\n\t\t\t\t\t\tcurrentWebview: this.$mp.page.$getAppWebview(),\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\turl: \"https://www.peiyinstreet.com/business/chat/upload\", //替换为你的\r\n\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\theader: {  //根据你接口需求自定义\r\n\t\t\t\t\t\tuserToken: this.token || ''\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\tfileName: '',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"微信小程序仅支持从手机端上传\",\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\t\r\n\t\t\t},\r\n\t\tonSuccess(res) {\r\n        console.log('上传成功回调',JSON.stringify(res), res);\r\n         if(this.uploaditem==='file') {\r\n            this.fileShow = false;\r\n            this.form.audition_url = res.data.data\r\n         }else {\r\n            this.musicShow = false;\r\n            this.form.content_url = res.data.data\r\n        }\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '文件上传成功',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t},\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.uni-textarea {\r\n  width: 523.551rpx !important;\r\n  height: 190.072px !important;\r\n}\r\n.uni-textarea-textarea {\r\n  width: 523.551rpx !important;\r\n  height: 190.072px !important;\r\n}\r\n.textarea-placeholder {\r\n  font-size: 25.362rpx !important;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: #999999 !important;\r\n  line-height: 36.232rpx;\r\n}\r\n.textareainput {\r\n  .u-input__textarea {\r\n    // padding: 0px !important;\r\n    height: 190.072rpx !important;\r\n  }\r\n  height: 190.072rpx !important;\r\n  width: 523.551rpx !important;\r\n  font-size: 25.362rpx;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  line-height: 36.232rpx;\r\n  color: #000000;\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n// 提交需求样式\r\n.home_demand_box {\r\n  margin-left: 27.174rpx;\r\n  width: 695.652rpx;\r\n  height: 804.348rpx;\r\n  background: #ffffff;\r\n  border-radius: 25.362rpx;\r\n  .home_title_slogan_box {\r\n    padding-top: 36.232rpx;\r\n    text-align: center;\r\n    .slogan_icon {\r\n      width: 32.609rpx;\r\n      height: 18.116rpx;\r\n    }\r\n    .title_slogan {\r\n      margin: 0 21.739rpx;\r\n      width: 293.478rpx;\r\n      height: 45.29rpx;\r\n      font-size: 32.609rpx;\r\n      font-family: PingFangSC-Medium, PingFang SC;\r\n      font-weight: 500;\r\n      color: #000000;\r\n      line-height: 45.29rpx;\r\n    }\r\n  }\r\n  .subtitle {\r\n    margin-top: 12.681rpx;\r\n    text-align: center;\r\n    height: 30.797rpx;\r\n    font-size: 21.739rpx;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #000000;\r\n    line-height: 30.797rpx;\r\n    .subtitle_color {\r\n      color: #ff445a;\r\n    }\r\n  }\r\n  .home_from_box {\r\n    margin-top: 32.609rpx;\r\n    .requirementsbox {\r\n      display: flex;\r\n      margin-left: 27.174rpx;\r\n      width: 641.304rpx;\r\n      height: 86.957rpx;\r\n      align-items: center;\r\n      background: #f1f3f7;\r\n      border-radius: 6px;\r\n      .label_text {\r\n        width: 112.319rpx;\r\n        height: 86.957rpx;\r\n        text-align: center;\r\n        line-height: 86.957rpx;\r\n        font-size: 25.362rpx;\r\n        color: #000000;\r\n        font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        .subtitle_color {\r\n          color: #ff445a;\r\n        }\r\n      }\r\n      .drop_down_select_box {\r\n        display: flex;\r\n      }\r\n      .drop_down_box {\r\n        margin-right: 18.116rpx;\r\n        position: relative;\r\n        width: 155.797rpx;\r\n        height: 57.971rpx;\r\n        line-height: 57.971rpx;\r\n        background: #ffffff;\r\n        border-radius: 28.986rpx;\r\n        .drop_down_text {\r\n          margin-left: 18.116rpx;\r\n          width: 110rpx;\r\n          font-size: 21.739rpx;\r\n          font-family: PingFangSC-Medium, PingFang SC;\r\n          font-weight: 500;\r\n          color: #000000;\r\n        }\r\n        .drop_down_img {\r\n          position: absolute;\r\n          top: 50%;\r\n          transform: translate(-50%, -50%);\r\n          right: 18.116rpx;\r\n          width: 12.681rpx;\r\n          height: 12.681rpx;\r\n        }\r\n      }\r\n    }\r\n    .home_textbox {\r\n      margin-left: 27.174rpx;\r\n      display: flex;\r\n      width: 641.304rpx;\r\n      height: 288.043rpx;\r\n      background: #f1f3f7;\r\n      border-radius: 10.87rpx;\r\n      .label_text {\r\n        margin-top: 25.362rpx;\r\n        width: 112.319rpx;\r\n        text-align: center;\r\n        font-size: 25.362rpx;\r\n        color: #000000;\r\n        font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        .subtitle_color {\r\n          color: #ff445a;\r\n        }\r\n      }\r\n      .home_textarea_box {\r\n        width: 523.551rpx;\r\n        height: 190.072rpx;\r\n        .textarea_box {\r\n          margin-top: 25.362rpx;\r\n          width: 523.551rpx;\r\n          height: 190.072rpx;\r\n        }\r\n        /* #ifdef H5 */\r\n        .textarea_box {\r\n          margin-top: 25.362rpx;\r\n          width: 523.551rpx;\r\n          height: 190.072rpx;\r\n        }\r\n        /* #endif */\r\n        .statistical_box {\r\n          margin-top: 10rpx;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          .textarea_num {\r\n            width: 63.406rpx;\r\n            height: 30.797rpx;\r\n            font-size: 21.739rpx;\r\n            font-family: PingFangSC-Regular, PingFang SC;\r\n            font-weight: 400;\r\n            color: #999999;\r\n            line-height: 30.797rpx;\r\n          }\r\n          .home_upload_box {\r\n            width: 76.087rpx;\r\n            text-align: right;\r\n            margin-right: 18.116rpx;\r\n            .home_upload {\r\n              text-align: center;\r\n              font-size: 21.739rpx;\r\n              font-family: PingFangSC-Regular, PingFang SC;\r\n              font-weight: 400;\r\n              color: #999999;\r\n              width: 76.087rpx;\r\n              height: 36.232rpx;\r\n              border-radius: 19.928rpx;\r\n              border: 1.812rpx solid #c8c8c8;\r\n            }\r\n            .upload_successful_box {\r\n              position: relative;\r\n              display: inline-block;\r\n              width: 36.232rpx;\r\n              height: 36.232rpx;\r\n              .successful_img {\r\n                width: 36.232rpx;\r\n                height: 36.232rpx;\r\n              }\r\n              .deletefile_img {\r\n                position: absolute;\r\n                top: -7rpx;\r\n                right: -7rpx;\r\n                width: 18.116rpx;\r\n                height: 18.116rpx;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .note_box {\r\n      display: flex;\r\n      margin-left: 27.174rpx;\r\n      width: 641.304rpx;\r\n      height: 86.957rpx;\r\n      align-items: center;\r\n      background: #f1f3f7;\r\n      border-radius: 6px;\r\n      .label_text {\r\n        width: 112.319rpx;\r\n        height: 86.957rpx;\r\n        text-align: center;\r\n        line-height: 86.957rpx;\r\n        font-size: 25.362rpx;\r\n        color: #000000;\r\n        font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        .subtitle_color {\r\n          color: #ff445a;\r\n        }\r\n      }\r\n      .note_text_box {\r\n        width: 431.159rpx;\r\n      }\r\n      .home_upload_box {\r\n        width: 76.087rpx;\r\n        text-align: right;\r\n        margin-right: 18.116rpx;\r\n        .home_upload {\r\n          text-align: center;\r\n          font-size: 21.739rpx;\r\n          font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n          color: #999999;\r\n          width: 76.087rpx;\r\n          height: 36.232rpx;\r\n          border-radius: 19.928rpx;\r\n          border: 1.812rpx solid #c8c8c8;\r\n        }\r\n        .upload_successful_box {\r\n          position: relative;\r\n          display: inline-block;\r\n          width: 36.232rpx;\r\n          height: 36.232rpx;\r\n          .successful_img {\r\n            width: 36.232rpx;\r\n            height: 36.232rpx;\r\n          }\r\n          .deletefile_img {\r\n            position: absolute;\r\n            top: -7rpx;\r\n            right: -7rpx;\r\n            width: 18.116rpx;\r\n            height: 18.116rpx;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .home_submit_box {\r\n      margin-top: 25.362rpx;\r\n      text-align: center;\r\n      .submit_btn {\r\n        display: inline-block;\r\n        text-align: center;\r\n        width: 623.188rpx;\r\n        height: 86.957rpx;\r\n        background: #ff445a;\r\n        border-radius: 43.478rpx;\r\n        font-size: 28.986rpx;\r\n        font-family: PingFangSC-Medium, PingFang SC;\r\n        font-weight: 500;\r\n        color: #ffffff;\r\n        line-height: 86.957rpx;\r\n      }\r\n    }\r\n  }\r\n}\r\n.submit_remind {\r\n  margin-top: 30.797rpx;\r\n  text-align: center;\r\n  font-size: 21.739rpx;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: #999999;\r\n}\r\n.margintop10 {\r\n  margin-top: 18.116rpx;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitform.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitform.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitform.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitform.vue?vue&type=style&index=1&lang=scss&\""],"sourceRoot":""}