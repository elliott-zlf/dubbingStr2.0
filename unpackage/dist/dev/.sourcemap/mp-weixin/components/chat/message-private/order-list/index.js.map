{"version":3,"sources":["webpack:////Users/elliott/Desktop/dubbingStr2.0/components/chat/message-private/order-list/index.vue?9ccc","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/chat/message-private/order-list/index.vue?251d","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/chat/message-private/order-list/index.vue?e46e","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/chat/message-private/order-list/index.vue?b885","uni-app:///components/chat/message-private/order-list/index.vue","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/chat/message-private/order-list/index.vue?2925"],"names":["renderjs","component","options","__file","components","lFile","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","words","textareanum","fileShow","props","display","type","Boolean","default","conversation","Object","watch","handler","immediate","setData","newVal","deep","methods","handleClose","$emit","detail","key","handleDeleteFile","form","url","sendMessage","uni","showToast","payload","description","order","extension","JSON","stringify","title","imageUrl"],"mappings":";;;;2DAAA,wQACIA,EADJ,wMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uDACZ,aAAAF,E;;;;2GCvBf,4zC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,iMAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCjCvB,y5BAAk2B,eAAG,G;;;;gJCoFr2B,CACEC,KADF,WAEI,MAAO,CACLC,MAAO,GACPC,YAAa,EAEnB,MACA,SACA,eACQ,IAAR,IAEMC,UAAU,IAIdpB,WAAY,GACZqB,MAAO,CACLC,QAAS,CACPC,KAAMC,QACNC,SAAS,GAEXC,aAAc,CACZH,KAAMI,OACNF,QAAS,eAGbG,MAAO,CACLN,QAAS,CACPO,QAAS,SAAf,KAKMC,WAAW,GAEbJ,aAAc,CACZG,QAAS,SAAf,GACQpB,KAAKsB,QAAQ,CACXL,aAAcM,KAGlBF,WAAW,EACXG,MAAM,IAGVC,QAAS,CACPC,YADJ,WAEM1B,KAAK2B,MAAM,QAAS,CAClBC,OAAQ,CACNC,IAAK,QAKf,kBATA,WAUM,QAAN,6CACA,+CAGIC,iBAdJ,WAeM9B,KAAK+B,KAAKC,IAAM,IAGlBC,YAlBJ,SAkBA,OAEM,EACA,EAAN,sBADA,MAEA,+CACQ,EAAR,WACA,wBACA,YACA,QACA,eAEA,yEACQC,EAAIC,UAAU,CACtB,8BACA,YACA,QACA,eAGQnC,KAAK2B,MAAM,oBAAqB,CAC9BC,OAAQ,CACNQ,QAAS,CAEP5B,KAAM,QACN6B,YAAaC,EAAMD,YAEnBE,UAAWC,KAAKC,UAAU,CACxBC,MAAOJ,EAAMI,MACbC,SAAUL,EAAMD,YAChBL,IAAKM,EAAMN,WAQ3B,SAvDA,SAuDA,GACA,qCACA,uCACA,oBACA,yBAKA,wDACA,YACA,QACA,0BAEA,UACA,gBAOA,aACA,uBACA,YACA,QACA,gBAIA,UArFA,SAqFA,GAMM,QAAN,kCACM,KAAN,qBACA,aACA,eACA,iB;;;;2DChOA,4wCAAqtC,eAAG,G","file":"components/chat/message-private/order-list/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5286d13e&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/chat/message-private/order-list/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5286d13e&\"","var components\ntry {\n  components = {\n    lFile: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/l-file/components/l-file/l-file\" */ \"@/uni_modules/l-file/components/l-file/l-file.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"tui-cards-container pys_popup\" v-if=\"display\">\n    <view class=\"popup_conent requestObject\">\n        <image\n          class=\"closeicon\"\n          src=\"@/static/home/close.png\"\n          mode=\"scaleToFill\"\n          @click=\"handleClose\"\n        />\n    <view>\n    <view style=\"height:17.971rpx\"></view>\t\n    <view class=\"popup_title\">\n        <view class=\"title_left\">请求对象</view>\n        <view class=\"title_right\">\n          <image\n            class=\"headPortrait\"\n            :src=\"conversation.userProfile.avatar\"\n            mode=\"scaleToFill\"\n          />\n          <text class=\"nick_name\">{{conversation.userProfile.nick}}</text>\n        </view>\n    </view>\n    <view class=\"view_conten\">\n        <view class=\"textarea_box\">\n          <textarea\n            class=\"textareainput\"\n            v-model=\"form.title\"\n            :disable-default-padding=\"true\"\n            placeholder=\"请输入录制成品时的详细要求；按照试音的感觉录 或其他注意事项\"\n            maxlength=\"200\"\n            placeholder-class=\"textarea-placeholder\"\n          />\n        </view>\n        <view class=\"manuscripts_box\">\n            <textarea\n            class=\"textareainput_text\"\n            v-model=\"form.description\"\n            :disable-default-padding=\"true\"\n            placeholder=\"输入2000字以内的成品文本，或直接上传\"\n            maxlength=\"2000\"\n            placeholder-class=\"textarea-placeholder\"\n            @input=\"handleInputEvents\"\n          />\n          <view class=\"statistical_box\">\n            <view class=\"textarea_num\">\n            <text>{{ textareanum }}</text>\n            <text>/2000</text>\n            </view>\n            <view class=\"home_upload_box\">\n            <view v-if=\"form.url===''\" class=\"home_upload\" @click=\"onUpload\">上传</view>\n            <view\n              v-else\n              class=\"upload_successful_box\"\n              @click=\"handleDeleteFile\"\n            >\n              <image\n                class=\"deletefile_img\"\n                src=\"@/static/home/deletefile.png\"\n                mode=\"scaleToFill\"\n              />\n              <image\n                class=\"successful_img\"\n                src=\"@/static/home/wordicon.png\"\n                mode=\"scaleToFill\"\n              />\n            </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <view class=\"submit_btn\" :data-order=\"form\" @tap.stop=\"sendMessage\">\n          提交\n      </view>\n        <view class=\"prompt_box\">\n          <view class=\"prompt_text\"><text class=\"round\"></text>您提交后，配音师会在2h内做出报价</view>\n          <view class=\"prompt_text\"><text class=\"round\"></text>您支付后，配音师会在规定时限内交付成品</view>\n        </view>\n      </view>\n    </view>\n    <l-file ref=\"lFile\" :logo=\"logo\" @up-success=\"onSuccess\"></l-file>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      words: '',\n      textareanum: 0,\n      // 新增参数\n\t\t\tform: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tdescription: '',\n          url: '',\n\t\t\t},\n      fileShow: true,\n    };\n  },\n\n  components: {},\n  props: {\n    display: {\n      type: Boolean,\n      default: false\n    },\n    conversation: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  watch: {\n    display: {\n      handler: function (newVal) {\n        // this.setData({\n        //   display: newVal\n        // });\n      },\n      immediate: true\n    },\n    conversation: {\n      handler: function (newVal) {\n        this.setData({\n          conversation: newVal\n        });\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    handleClose() {\n      this.$emit('close', {\n        detail: {\n          key: '0'\n        }\n      });\n    },\n    // 计算输入框的字数\n\t\t\thandleInputEvents() {\n       console.log('-------------++++++',this.conversation) \n\t\t\tthis.textareanum = this.form.description.length;\n\t\t\t},\n    // 删除上传文件\n    handleDeleteFile() {\n      this.form.url = ''\n    },\n    // 发送消息\n    sendMessage(e) {\n      const {\n        order\n      } = e.currentTarget.dataset;\n      if(this.form.title=='' && this.form.description=='') {\n         uni.showToast({\n\t\t\t\t\t\ttitle: \"请先输入录制成品时的详细要求哦\",\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t});\n      }else if(this.form.url=='' && this.form.title !=='' && this.form.description.length < 20){\n        uni.showToast({\n\t\t\t\t\t\ttitle: \"请输入20字以上的成品文本，或直接上传文稿\",\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t});\n      }else {\n        this.$emit('sendCustomMessage', {\n          detail: {\n            payload: {\n              // data 字段作为表示，可以自定义\n              data: 'offer',\n              description: order.description,\n              // 获取骰子点数\n              extension: JSON.stringify({\n                title: order.title,\n                imageUrl: order.description,\n                url: order.url\n              })\n            }\n          }\n       });\n      }\n    },\n    /* 上传 */\n\t\t\tonUpload(item) { \n\t\t\t\tlet platform =  uni.getSystemInfoSync().platform\n        if (platform == 'android' || platform == 'ios' || platform == 'devtools') {\n\t\t\t\t\tthis.forUploading = item\n\t\t\t\t\tthis.$refs.lFile.upload({\n\t\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\t\t// nvue页面使用时请查阅nvue获取当前webview的api，当前示例为vue窗口\n\t\t\t\t\t\tcurrentWebview: this.$mp.page.$getAppWebview(),\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t\turl: \"https://www.peiyinstreet.com/business/chat/upload\", //替换为你的\n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\theader: {  //根据你接口需求自定义\n\t\t\t\t\t\tuserToken: this.token || ''\t\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformData: {\n\t\t\t\t\t\tfileName: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// body参数直接写key,value,如：\n\t\t\t\t\t\t// formData: 'value1',\n\t\t\t\t\t\t// key2: 'value2',\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"微信小程序仅支持从手机端上传\",\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t});\n\t\t\t\t}\t\n\t\t\t},\n\t\t\tonSuccess(res) {\n\t\t\t\t// if (this.forUploading==='new') {\n\t\t\t\t// \tthis.worksItem.works.push({title:res.fileName, id: res.data.data})\n\t\t\t\t// } else {\n\t\t\t\t//     this.worksItem.works.push({title:res.fileName, id: res.data.data})\n\t\t\t\t// }\n        console.log('上传成功回调',JSON.stringify(res), res);\n        this.form.url = res.data.data\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '文件上传成功',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n  }\n};\n</script>\n<style>\n@import \"./index.css\";\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}