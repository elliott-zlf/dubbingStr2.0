{"version":3,"sources":["webpack:////Users/elliott/Desktop/dubbingStr2.0/components/tui-group/group-profile/index.vue?133e","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/tui-group/group-profile/index.vue?97b1","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/tui-group/group-profile/index.vue?ef75","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/tui-group/group-profile/index.vue?0311","uni-app:///components/tui-group/group-profile/index.vue","webpack:////Users/elliott/Desktop/dubbingStr2.0/components/tui-group/group-profile/index.vue?e7a5"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","newgroup","close","setData","popupToggle","addpopupToggle","quitpopupToggle","quitGroup","quitgroupConfirm","uni","$TUIKit","conversation","groupProfile","groupID","then","console","log","imResponse","data","navigateBack","delta","showToast","title","icon","warn","imError","quitgroupAbandon","addMember","binduserIDInput","userID","id","submit","addGroupMember","userIDList","successUserIDList","length","duration","existedUserIDList","handleEditToggle","getgroupProfile"],"mappings":";;;;2DAAA,wQACIA,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,+CACZ,aAAAF,E;;;;2GCvBf,0yC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,04BAAm1B,eAAG,G;;;;0ICoFt1B,2C,yDAEA,CACA,KADA,WAEA,OACA,UAEMC,SAAU,GAChB,sBACA,qBACA,mBACA,UACA,WACA,UACA,YACA,WACA,eACA,mBACA,oBAIA,cACA,OACA,cACA,cAGA,OACA,cACA,oBACA,OACA,cACA,kBAGA,aACA,UAIA,YAvCA,aAyCA,SACA,gBADA,WACA,WACA,8BACA,+CACA,SACA,WAEA,kBACA,0HAEA,8CACA,WACA,aAIA,4BACA,WACA,cAIA,WACA,qCACA,iBACA,mBACA,uBAKA,SA/BA,WAgCA,cACA,UACA,WACA,aAIA,eAvCA,WAwCA,cACA,kBAKIC,MA9CJ,WA+CMT,KAAKU,QAAQ,CACXC,aAAa,EACbC,gBAAgB,EAChBC,iBAAiB,KAIrBC,UAtDJ,WAuDMd,KAAKU,QAAQ,CACXG,iBAAiB,EACjBF,aAAa,KAIjBI,iBA7DJ,WA8DMC,EAAIC,QAAQH,UAAUd,KAAKkB,aAAaC,aAAaC,SAASC,MAAK,SAAzE,GACQC,QAAQC,IAAIC,EAAWC,KAAKL,SAE5BJ,EAAIU,aAAa,CACfC,MAAO,OAEjB,mBACQX,EAAIY,UAAU,CACZC,MAAO,cACPC,KAAM,SAERR,QAAQS,KAAK,mBAAoBC,OAIrCC,iBA7EJ,WA8EMX,QAAQC,IAAI,OACZvB,KAAKU,QAAQ,CACXG,iBAAiB,KAIrBqB,UApFJ,WAqFMlC,KAAKU,QAAQ,CACXE,gBAAgB,KAIpBuB,gBA1FJ,SA0FA,GACM,IAAN,iBACMnC,KAAKU,QAAQ,CACX0B,OAAQC,KAIZC,OAjGJ,WAiGA,WACMhB,QAAQC,IAAIvB,KAAKoC,QACjBpB,EAAIC,QAAQsB,eAAe,CACzBnB,QAASpB,KAAKkB,aAAaC,aAAaC,QACxCoB,WAAY,CAACxC,KAAKoC,UACpB,MAAN,YACYZ,EAAWC,KAAKgB,kBAAkBC,OAAS,IAC7C1B,EAAIY,UAAU,CACZC,MAAO,OACPc,SAAU,MAEZ,EAAV,UACU,EAAV,yBACU,EAAV,SACY/B,gBAAgB,KAIhBY,EAAWC,KAAKmB,kBAAkBF,OAAS,GAC7C1B,EAAIY,UAAU,CACZC,MAAO,UACPc,SAAU,IACVb,KAAM,YAGlB,mBACQR,QAAQS,KAAK,wBAAyBC,GAEtChB,EAAIY,UAAU,CACZC,MAAO,gBACPc,SAAU,IACVb,KAAM,aAKZe,iBArIJ,WAsIMvB,QAAQC,IAAI,+BAGduB,gBAzIJ,WA0IMxB,QAAQC,IAAI,gC;;;;2DCzQlB,uvCAAgsC,eAAG,G","file":"components/tui-group/group-profile/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=2b5c2b5e&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/tui-group/group-profile/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=2b5c2b5e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n<view>\n<!--miniprogram/components/tui-group/group-profile/index.wxml-->\n<view class=\"group-information-box\" @show=\"getgroupProfile\">\n    <view class=\"group-box\">\n        <text class=\"group-ID\">群ID:{{conversation.groupProfile.groupID}}</text>\n        <view @tap=\"showMoreHandler\">\n        <text class=\"group-member\">聊天成员:{{conversation.groupProfile.memberCount}}人</text>\n        <image v-if=\"notShow\" class=\" icon-right\" src=\"/static/static/assets/down.svg\"></image>\n        <image v-if=\"isShow\" class=\" icon-right\" src=\"/static/static/assets/up.svg\"></image>\n        </view>\n    </view>\n    <view v-show=\"!hidden\" class=\"showdetail\">\n         <view v-for=\"(item, index) in groupmemberprofile\" :key=\"index\" class=\"box\" v-if=\"index<3\" :data-value=\"item\">\n            <image class=\"profile-box\" :src=\"item.avatar|| 'https://sdk-web-1252463788.cos.ap-hongkong.myqcloud.com/component/TUIKit/assets/avatar_21.png'\"></image>\n             <text class=\"nick-box\">{{item.nick||item.userID}}</text>\n          </view>\n        <view class=\"box\" v-if=\"showMore\">\n            <image class=\"profile-box\" src=\"/static/static/assets/show.svg\" @tap=\"showMoreMember\"></image>\n            <text class=\"nick-box\">更多</text>\n        </view>\n        <view class=\"left-box\">\n         <view class=\"box-group\" v-if=\"addShow\">\n            <image class=\"addmember\" src=\"/static/static/assets/addgroup.svg\" @tap=\"addMember\"></image>\n            <text class=\"addmember-text\">添加成员</text>\n        </view>\n        <view class=\"box-group-quit\">\n            <image class=\"quitgroup\" src=\"/static/static/assets/quitgroup.svg\" @tap.stop=\"quitGroup\"></image>\n            <text class=\"quitgroup-text\">退出群聊</text>\n        </view>\n    </view>\n    </view>\n</view>\n<view class=\"pop-container\">\n<view class=\"popup-mask\" v-if=\"popupToggle\" @tap.stop=\"handleEditToggle\">\n    <view class=\"pop-main\">\n        <view class=\"pop-main-header\">\n        <text class=\"group-member-text\">群成员</text>\n        <text class=\"close\" @tap.stop=\"close\">关闭</text>\n        </view>\n    <view class=\"image-list\">\n    <view v-for=\"(item, index) in groupmemberprofile\" :key=\"index\" class=\"image-nick-box\" :data-value=\"item\">\n        <image class=\"image-box\" :src=\"item.avatar|| 'https://sdk-web-1252463788.cos.ap-hongkong.myqcloud.com/component/TUIKit/assets/avatar_21.png'\"></image>\n        <text class=\"groupmembername\">{{item.nick||item.userID}}</text>\n    </view>\n    </view>\n    </view>\n</view>\n</view>\n<view class=\"pop-container\">\n<view class=\"quitpop-mask\" v-if=\"quitpopupToggle\">\n<view class=\"quitpop\">\n    <view class=\" quit-box\">\n        <view class=\"text-box\">\n        <text class=\"confirmQuitgroup-text\">退出群聊后会同步删除历史聊天记录，是否要退出群聊？</text>\n    </view>\n    <view class=\"text-box-qiut\" @tap.stop=\"quitgroupConfirm\">\n        <text class=\"quitgroup-confirm\">退出</text>\n    </view>\n    <view class=\"text-box-cancle\" @tap=\"quitgroupAbandon\">\n        <text class=\"quitgroup-abandon\">取消</text>\n    </view>\n</view>\n</view>\n\n</view>\n</view>\n<view class=\"mask\" v-if=\"addpopupToggle\">\n    <view class=\"popup\">\n        <view class=\"popup-main\">\n            <text>添加群成员</text>\n            <input class=\"input-box\" type=\"number\" placeholder=\"请输入userID\" @input=\"binduserIDInput\" placeholder-style=\"color:#BBBBBB;\">\n        </view>\n        <view class=\"popup-footer\">\n           <button class=\" popup-footer-button submit\" @tap.stop=\"submit\">确认</button>\n            <button class=\"popup-footer-button cancel\" @tap.stop=\"close\">取消</button>\n\n        </view>\n    </view>\n</view>\n</view>\n</template>\n\n<script>\nimport logger from '@/utils/tim/logger.js';\n\nexport default {\n  data() {\n    return {\n      userID: '',\n      // conversation: {},\n      newgroup: {},\n      groupmemberprofile: {},\n      groupmemberavatar: [],\n      groupmembernick: [],\n      hidden: true,\n      notShow: true,\n      isShow: false,\n      showMore: false,\n      addShow: false,\n      popupToggle: false,\n      quitpopupToggle: false,\n      addpopupToggle: false\n    };\n  },\n\n  components: {},\n  props: {\n    conversation: {\n      type: Object,\n    }\n  },\n  watch: {\n    conversation: {\n      handler: function (newVal) {\n        if (newVal.type === 'GROUP') ;\n        this.setData({\n          conversation: newVal\n        });\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n\n  beforeMount() {},\n\n  methods: {\n    showMoreHandler() {\n      uni.$TUIKit.getGroupMemberList({\n        groupID: this.conversation.groupProfile.groupID,\n        count: 50,\n        offset: 0\n      }) // 从0开始拉取30个群成员\n      .then(imResponse => {\n        logger.log(`| TUI-group-profile | getGroupMemberList  | getGroupMemberList-length: ${imResponse.data.memberList.length}`);\n\n        if (this.conversation.groupProfile.type === 'Private') {\n          this.setData({\n            addShow: true\n          });\n        }\n\n        if (imResponse.data.memberList.length > 3) {\n          this.setData({\n            showMore: true\n          });\n        }\n\n        this.setData({\n          groupmemberprofile: imResponse.data.memberList,\n          hidden: !this.hidden,\n          notShow: !this.notShow,\n          isShow: !this.isShow\n        });\n      });\n    },\n\n    showless() {\n      this.setData({\n        isShow: false,\n        notShow: true,\n        hidden: true\n      });\n    },\n\n    showMoreMember() {\n      this.setData({\n        popupToggle: true //  quitpopupToggle: false\n\n      });\n    },\n\n    close() {\n      this.setData({\n        popupToggle: false,\n        addpopupToggle: false,\n        quitpopupToggle: false\n      });\n    },\n\n    quitGroup() {\n      this.setData({\n        quitpopupToggle: true,\n        popupToggle: false\n      });\n    },\n\n    quitgroupConfirm() {\n      uni.$TUIKit.quitGroup(this.conversation.groupProfile.groupID).then(imResponse => {\n        console.log(imResponse.data.groupID); // 退出成功的群 ID\n\n        uni.navigateBack({\n          delta: 1\n        });\n      }).catch(imError => {\n        uni.showToast({\n          title: '该群不允许群主主动退出',\n          icon: 'none'\n        });\n        console.warn('quitGroup error:', imError); // 退出群组失败的相关信息\n      });\n    },\n\n    quitgroupAbandon() {\n      console.log(22222);\n      this.setData({\n        quitpopupToggle: false\n      });\n    },\n\n    addMember() {\n      this.setData({\n        addpopupToggle: true\n      });\n    },\n\n    binduserIDInput(e) {\n      const id = e.detail.value;\n      this.setData({\n        userID: id\n      });\n    },\n\n    submit() {\n      console.log(this.userID);\n      uni.$TUIKit.addGroupMember({\n        groupID: this.conversation.groupProfile.groupID,\n        userIDList: [this.userID]\n      }).then(imResponse => {\n        if (imResponse.data.successUserIDList.length > 0) {\n          uni.showToast({\n            title: '添加成功',\n            duration: 800\n          });\n          this.userID = '';\n          this.addMemberModalVisible = false;\n          this.setData({\n            addpopupToggle: false\n          });\n        }\n\n        if (imResponse.data.existedUserIDList.length > 0) {\n          uni.showToast({\n            title: '该用户已在群中',\n            duration: 800,\n            icon: 'none'\n          });\n        }\n      }).catch(imError => {\n        console.warn('addGroupMember error:', imError); // 错误信息\n\n        uni.showToast({\n          title: '添加失败，请确保该用户存在',\n          duration: 800,\n          icon: 'none'\n        });\n      });\n    },\n\n    handleEditToggle() {\n      console.log(\"占位：函数 handleEditToggle 未声明\");\n    },\n\n    getgroupProfile() {\n      console.log(\"占位：函数 getgroupProfile 未声明\");\n    }\n\n  }\n};\n</script>\n<style>\n@import \"./index.css\";\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}