(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/chat/message-list/index"],{201:
/*!***********************************************************************************!*\
  !*** /Users/elliott/Desktop/dubbingStr2.0/components/chat/message-list/index.vue ***!
  \***********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var s=n(/*! ./index.vue?vue&type=template&id=6eddd953& */202),i=n(/*! ./index.vue?vue&type=script&lang=js& */204);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(/*! ./index.vue?vue&type=style&index=0&lang=css& */206);var a,r=n(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */24),c=Object(r["default"])(i["default"],s["render"],s["staticRenderFns"],!1,null,null,null,!1,s["components"],a);c.options.__file="components/chat/message-list/index.vue",t["default"]=c.exports},202:
/*!******************************************************************************************************************!*\
  !*** /Users/elliott/Desktop/dubbingStr2.0/components/chat/message-list/index.vue?vue&type=template&id=6eddd953& ***!
  \******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var s=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6eddd953& */203);n.d(t,"render",(function(){return s["render"]})),n.d(t,"staticRenderFns",(function(){return s["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return s["recyclableRender"]})),n.d(t,"components",(function(){return s["components"]}))},203:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/elliott/Desktop/dubbingStr2.0/components/chat/message-list/index.vue?vue&type=template&id=6eddd953& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var s;n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return o})),n.d(t,"components",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.messageList,(function(t,n){var s=e.__get_orig(t),i="@TIM#SYSTEM"!==e.conversation.type&&n%6==0?e.getcaculateTimeago(t.time):null;return{$orig:s,m0:i}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},o=!1,a=[];i._withStripped=!0},204:
/*!************************************************************************************************************!*\
  !*** /Users/elliott/Desktop/dubbingStr2.0/components/chat/message-list/index.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var s=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */205),i=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o);t["default"]=i.a},205:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/elliott/Desktop/dubbingStr2.0/components/chat/message-list/index.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(/*! @/utils/common */68);function i(e){return c(e)||r(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var l=function(){Promise.all(/*! require.ensure | components/chat/message-elements/text-message/index */[n.e("common/vendor"),n.e("components/chat/message-elements/text-message/index")]).then(function(){return resolve(n(/*! ../message-elements/text-message/index */264))}.bind(null,n)).catch(n.oe)},d=function(){Promise.all(/*! require.ensure | components/chat/message-elements/custom-message/index */[n.e("common/vendor"),n.e("components/chat/message-elements/custom-message/index")]).then(function(){return resolve(n(/*! ../message-elements/custom-message/index */273))}.bind(null,n)).catch(n.oe)},f=function(){Promise.all(/*! require.ensure | components/chat/message-elements/system-message/index */[n.e("common/vendor"),n.e("components/chat/message-elements/system-message/index")]).then(function(){return resolve(n(/*! ../message-elements/system-message/index */280))}.bind(null,n)).catch(n.oe)},m=function(){n.e(/*! require.ensure | components/chat/message-elements/file-message/index */"components/chat/message-elements/file-message/index").then(function(){return resolve(n(/*! ../message-elements/file-message/index */288))}.bind(null,n)).catch(n.oe)},g={data:function(){return{avatar:"",userID:"",messageList:[],scrollView:"",scrollTop:0,triggered:!1,nextReqMessageID:"",isCompleted:!1,scrollAnimation:!1,scrollToView:""}},components:{TUITextMessage:l,TUICustomMessage:d,TUISystemMessage:f,TUIFileMessage:m},props:{conversation:{type:Object,default:function(){}}},watch:{conversation:{handler:function(e){var t=this;console.log("传过来的值",e),e.conversationID&&this.setData({conversation:e},(function(){t.getMessageList(e)}))},immediate:!0,deep:!0}},mounted:function(){var t=this;e.$TUIKit.getMyProfile().then((function(e){t.avatar=e.data.avatar,t.userID=e.data.userID})),e.$TUIKit.on(e.$TUIKitEvent.MESSAGE_RECEIVED,this.$onMessageReceived,this),e.$TUIKit.on(e.$TUIKitEvent.MESSAGE_READ_BY_PEER,this.$onMessageReadByPeer,this)},destroyed:function(){e.$TUIKit.off(e.$TUIKitEvent.MESSAGE_RECEIVED,this.$onMessageReceived)},methods:{refresh:function(){var e=this;if(this.triggered=!0,this._freshing=!0,this.isCompleted)return this.setData({isCompleted:!0}),void setTimeout((function(){e.triggered=!1,e._freshing=!1}),1e3);this.getMessageList(this.conversation),setTimeout((function(){e.triggered=!1,e._freshing=!1}),1e3)},getcaculateTimeago:function(e){return(0,s.caculateTimeago)(1e3*e)},getMessageList:function(t){var n=this;this.isCompleted||e.$TUIKit.getMessageList({conversationID:t.conversationID,nextReqMessageID:this.nextReqMessageID,count:15}).then((function(e){console.log("配音师列表数据",e,e.data.isCompleted);var t=e.data.messageList;n.nextReqMessageID=e.data.nextReqMessageID,n.isCompleted=e.data.isCompleted,n.messageList=[].concat(i(t),i(n.messageList)),n.$handleMessageRender(n.messageList,t),n.$nextTick((function(){this.scrollToView=e.data.messageList[e.data.messageList.length-1].ID}))}))},updateMessageList:function(e){this.messageList=[].concat(i(this.messageList),[e]),this.scrollToButtom(e)},$onMessageReadByPeer:function(){this.setData({messageList:this.messageList})},scrollToButtom:function(e){this.$nextTick((function(){e.ID?(this.scrollToView=e.ID,this.$nextTick((function(){this.scrollAnimation=!0}))):(this.scrollToView=e.data[e.data.length-1].ID,this.$nextTick((function(){this.scrollAnimation=!0})))}))},$onMessageReceived:function(e){var t=this,n=e,s=[];n.data.forEach((function(e){e.conversationID===t.conversation.conversationID&&s.push(Object.assign(e))})),this.messageList=this.messageList.concat(s),this.scrollToButtom(e)},$handleMessageRender:function(e){var t=this;e.length>0&&(this.setData({messageList:e},(function(){})),this.$nextTick((function(){console.log("走这里了吗"),t.scrollTop=99999})))}}};t.default=g}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},206:
/*!********************************************************************************************************************!*\
  !*** /Users/elliott/Desktop/dubbingStr2.0/components/chat/message-list/index.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var s=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css& */207),i=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o);t["default"]=i.a},207:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/elliott/Desktop/dubbingStr2.0/components/chat/message-list/index.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}}]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/components/chat/message-list/index.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/chat/message-list/index-create-component',
    {
        'components/chat/message-list/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(201))
        })
    },
    [['components/chat/message-list/index-create-component']]
]);
