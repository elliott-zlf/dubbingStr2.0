(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/pages/mywork/mywork"],{267:function(t,e,n){"use strict";(function(t){n(5);a(n(3));var e=a(n(268));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},268:function(t,e,n){"use strict";n.r(e);var a=n(269),o=n(271);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n(273),n(275);var i,s=n(17),u=Object(s["default"])(o["default"],a["render"],a["staticRenderFns"],!1,null,"626a1bcf",null,!1,a["components"],i);u.options.__file="subpkg/pages/mywork/mywork.vue",e["default"]=u.exports},269:function(t,e,n){"use strict";n.r(e);var a=n(270);n.d(e,"render",(function(){return a["render"]})),n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(e,"components",(function(){return a["components"]}))},270:function(t,e,n){"use strict";var a;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return i})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return a}));try{a={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,392))},uTabs:function(){return n.e("uview-ui/components/u-tabs/u-tabs").then(n.bind(null,445))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,459))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,466))},release:function(){return Promise.all([n.e("common/vendor"),n.e("components/release/release")]).then(n.bind(null,494))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.defaultshow?t.__map(t.readList,(function(e,n){var a=t.__get_orig(e),o=t.transformsex(e.teacher.sex);return{$orig:a,m0:o}})):null);t._isMounted||(t.e0=function(e){0===t.operationItem.share_type?t.handlejoincloudAdd(t.operationItem):t.handlejoincloud(t.operationItem)}),t.$mp.data=Object.assign({},{$root:{l0:n}})},r=!1,i=[];o._withStripped=!0},271:function(t,e,n){"use strict";n.r(e);var a=n(272),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},272:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=f(n(9)),o=n(80),r=n(67),i=f(n(69)),s=f(n(68)),u=f(n(103)),c=n(46),l=f(n(104)),d=f(n(81)),h=n(732);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n,a,o,r,i){try{var s=t[r](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(a,o)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){p(r,a,o,i,s,"next",t)}function s(t){p(r,a,o,i,s,"throw",t)}i(void 0)}))}}var w=function(){n.e("components/accesslist/accesslist").then(function(){return resolve(n(533))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/audio/audioplay").then(function(){return resolve(n(422))}.bind(null,n)).catch(n.oe)},v={components:{accesslist:w,musicAudio:g},data:function(){return{clickContent:"0",readList:[],attentionList:[],has_next:!0,play:s.default,playActive:i.default,pageData:{status:0,page:1,size:10},list:[{name:"下过单的",id:0},{name:"我收藏的",id:1}],dataPlay:{works:{url:""}},scrollInto:0,current:0,audioShow:!1,submitShow:!1,defaultshow:!0,collectShow:!1,operationItem:{},dataObj:{teacher_id:"",service_id:"",status:1,filename:"",content_url_escape:"",work_id:"",subjecttype:""},btnText:"按作品效果试音",shouchang:u.default,yishouchang:l.default}},onLoad:function(e){t.hideShareMenu(),this.handlegainCardData(this.pageData)},onShow:function(){this.handlegainCardData(this.pageData)},onHide:function(){this.musicClose()},methods:{change:function(t){this.current=t,this.pageData={status:this.current,page:1,size:10},this.handlegainCardData(this.pageData)},handlegainCardData:function(t){var e=this;return m(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,o.collectionlist)(t);case 2:r=n.sent,console.log("我的关注数据",r),e.readList=r.data,e.readList.length<r.count?e.has_next=!0:e.has_next=!1,0===e.readList.length?e.defaultshow=!1:e.defaultshow=!0,e.scrollInto=e.scrollTop,setTimeout((function(){e.scrollInto=0}),0);case 9:case"end":return n.stop()}}),n)})))()},transformsex:function(t){return 1===t?"男声":2===t?"女声":"企业"},handleVisitorsJump:function(e){t.navigateTo({url:"/subpkg/pages/teacherlist/teacherlist?id="+e.teacher_id})},handleDubbinglLibrary:function(){t.switchTab({url:"/pages/dubbinglibrary/dubbinglibrary"})},reachBottom:function(){var t=this;return m(a.default.mark((function e(){var n,o;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.has_next){e.next=10;break}return n=t.pageData.page+1,t.pageData={page:n,size:10,status:t.current},e.next=5,followListdata(t.pageData);case 5:o=e.sent,t.readList.length<o.count?t.has_next=!0:t.has_next=!1,o.data.map((function(e){t.readList.push(e)})),e.next=10;break;case 10:case"end":return e.stop()}}),e)})))()},tabScoll:function(t){this.scrollTop=t.detail.scrollTop},handleUseOrder:function(e){console.log("使用样音下单,用户下单状态",e,this.order_status),e.admin_price?(this.dataObj.service_id=e.service_id,this.dataObj.teacher_id=e.teacher_id,this.dataObj.filename=e.works.title,this.dataObj.content_url_escape=e.url,this.dataObj.work_id=e.works.id,this.dataObj.avatar=e.teacher.avatar,this.dataObj.nickname=e.teacher.nickname,this.dataObj.offer_price=e.offer_price,this.dataObj.subjecttype=e.tags[0].value,this.btnText="按样音效果试音",t.setStorageSync("dataObj",this.dataObj),t.navigateTo({url:"/subpkg/pages/voicesrelease/voicesrelease"})):t.showToast({title:"该服务暂不支持在线试音，请联系客服",icon:"none"}),(0,h.buriedSomeStatistical)(3)},handleOperation:function(t){console.log("点击操作打印数据",t),this.operationItem=t,this.collectShow=!0},hanldeCancelcoll:function(){this.collectShow=!1},handleCollectStatus:function(){var t=this,e={work_id:this.operationItem.works.id,type:this.operationItem.work_type};(0,r.collection)(e).then((function(e){console.log(e),1===t.operationItem.work_type?t.operationItem.work_type=0:t.operationItem.work_type=1})).catch((function(t){}))},handleCloudShare:function(e){console.log("进入云分享",e),t.navigateTo({url:"/subpkg/pages/voicesshare/voicesshare"}),this.collectShow=!1},handlejoincloudAdd:function(e){var n=this;console.log("加入云分享",e),(0,c.shareAdd)({work_id:e.works.id}).then((function(e){console.log(),1===n.operationItem.share_type?(n.operationItem.share_type=0,t.showToast({title:"移除成功",icon:"none"})):n.operationItem.share_type=1}))},handlejoincloud:function(e){var n=this;console.log("移除云分享",e);(0,c.shareDel)({work_id:e.works.id}).then((function(e){console.log(),1===n.operationItem.share_type?(n.operationItem.share_type=0,t.showToast({title:"移除成功",icon:"none"})):n.operationItem.share_type=1}))},getsubmitShow:function(){this.submitShow=!1},playTheMusic:function(t){var e=this;console.log("传过来的数据",t),this.audioShow=!0,this.dataPlay.works.url===t.works.url?this.readList.map((function(n){e.dataPlay===n?t.works.playStatus=!t.works.playStatus:n.playStatus=!1})):(this.readList.map((function(t){t.works.playStatus=!1})),t.works.playStatus=!0,this.dataPlay=t,(0,h.buriedSomeStatistical)(0)),setTimeout((function(){e.$refs.musicAudio.preStartPlay()}),0)},handleChangePlay:function(t){var e=this;this.readList.map((function(n){e.dataPlay===n?n.works.playStatus=t:n.works.playStatus=!1}))},musicClose:function(){this.readList.map((function(t){t.works.playStatus=!1})),this.audioShow=!1,this.dataPlay={works:{url:""}}},downloadcopy:function(e,n){(0,d.default)({content:e,success:function(e){t.showToast({title:n,icon:"none"})},error:function(t){}}),(0,h.buriedSomeStatistical)(1)},downloadcopySampleVoices:function(e,n){return m(a.default.mark((function o(){var r;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,c.teacherdetail)({teacher_id:e.teacher_id});case 2:a.sent,r="样音信息："+e.teacher.nickname+"("+e.teacher.grade_text+")+"+e.title+"+"+e.offer_price+"+下载链接 "+e.works.url,console.log(e,r),(0,d.default)({content:r,success:function(e){t.showToast({title:n,icon:"none"})},error:function(t){}});case 6:case"end":return a.stop()}}),o)})))()}}};e.default=v}).call(this,n(1)["default"])},273:function(t,e,n){"use strict";n.r(e);var a=n(274),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},274:function(t,e,n){},275:function(t,e,n){"use strict";n.r(e);var a=n(276),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},276:function(t,e,n){}},[[267,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/subpkg/pages/mywork/mywork.js.map