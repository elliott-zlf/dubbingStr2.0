(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/pages/voicelist/voicelist"],{161:function(t,e,n){"use strict";(function(t){n(5);o(n(3));var e=o(n(162));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},162:function(t,e,n){"use strict";n.r(e);var o=n(163),a=n(165);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n(167),n(169);var r,s=n(17),u=Object(s["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,"4c5a265e",null,!1,o["components"],r);u.options.__file="subpkg/pages/voicelist/voicelist.vue",e["default"]=u.exports},163:function(t,e,n){"use strict";n.r(e);var o=n(164);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},164:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return a})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return o}));try{o={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,392))},uDropdown:function(){return n.e("uview-ui/components/u-dropdown/u-dropdown").then(n.bind(null,473))},uDropdownItem:function(){return n.e("uview-ui/components/u-dropdown-item/u-dropdown-item").then(n.bind(null,480))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,487))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,459))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var t=this,e=t.$createElement;t._self._c},i=!1,r=[];a._withStripped=!0},165:function(t,e,n){"use strict";n.r(e);var o=n(166),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},166:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=l(n(9)),a=n(67),i=n(125),r=n(12),s=l(n(68)),u=l(n(69)),c=n(732);function l(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n,o,a,i,r){try{var s=t[i](r),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(o,a)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function r(t){d(i,o,a,r,s,"next",t)}function s(t){d(i,o,a,r,s,"throw",t)}r(void 0)}))}}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){n.e("components/cardball/cardball").then(function(){return resolve(n(510))}.bind(null,n)).catch(n.oe)},v=function(){n.e("components/audio/audioplay").then(function(){return resolve(n(422))}.bind(null,n)).catch(n.oe)},w={components:{cardball:m,musicAudio:v},data:function(){return{subvalue:0,sexvalue:0,entvalue:0,subTitle:"配音题材",sexTitle:"性别",entTitle:"个企",play:s.default,playActive:u.default,options1:[],options2:[],options3:[],current:0,has_next:"",tagParameter:{page:1,size:10,tag_data:{2:[]},cate:"",sex:0,class:0},cate:"",dataList:[],dataPlay:{works:{url:""}},navTitle:"",rankData:{},userStatus:null,rankingPopShow:!1,defaultshow:!1,audioShow:!1,triggered:!1,scrollInto:0,scrollTop:0,notputShow:!1,rukuShow:!1}},computed:p({},(0,r.mapState)("user",["token","userInfo"])),onShareAppMessage:function(t){return"button"===t.from&&console.log(t.target),{imageUrl:"",complete:function(t){console.log("分享成功",t)}}},onLoad:function(t){this.cate=t.cate,this.getUnionid()},onHide:function(){this.musicClose()},methods:p(p({},(0,r.mapActions)("user",["login"])),{},{getUnionid:function(){var e=this;t.login({provider:"weixin",success:function(){var t=f(o.default.mark((function t(n){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.login(n.code);case 2:e.handleServicetag(),e.tagParameter.cate=e.cate,e.getVoicelist();case 5:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),fail:function(t){console.log("登录失败",t)}})},handleGoBack:function(){console.log("跳转回配音师库"),t.switchTab({url:"/pages/dubbinglibrary/dubbinglibrary"})},completemessage:function(t){console.log("微信二维码的回调函数",t)},startmessage:function(t){console.log("微信二维码的回调函数",t)},handleServicetag:function(){var t=this;(0,a.servicetag)({cate:this.cate}).then((function(e){console.log("标签数据",e.data),t.options1=e.data.tag_data,t.options2=e.data.sex,t.options3=e.data.class,t.userStatus=e.data.status,t.navTitle=e.data.catename}))},handlere:function(){this.triggered=!0,this.getVoicelist(),this._freshing=!0,console.log("上拉加载")},getVoicelist:function(){var t=this;return f(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tagParameter.page=1,e.next=3,(0,a.servicsecList)(t.tagParameter);case 3:n=e.sent,console.log("res新数据",n),t.triggered=!1,t._freshing=!1,t.dataList=n.data,t.scrollInto=t.scrollTop,0===t.dataList.length?(t.has_next="",t.defaultshow=!0):(t.has_next=n.has_next,t.defaultshow=!1),setTimeout((function(){t.scrollInto=0}),0);case 11:case"end":return e.stop()}}),e)})))()},reachBottom:function(){var t=this;return f(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.has_next){e.next=12;break}return t.tagParameter.page=t.tagParameter.page+1,e.next=4,(0,a.servicsecList)(t.tagParameter);case 4:n=e.sent,console.log("res新数据",n),t.triggered=!1,t.has_next=n.has_next,n.data.map((function(e){t.dataList.push(e)})),0===t.dataList.length?(t.defaultshow=!0,t.has_next=""):t.defaultshow=!1,e.next=12;break;case 12:case"end":return e.stop()}}),e)})))()},tabScoll:function(t){this.scrollTop=t.detail.scrollTop},handlecheckItem:function(t,e){this.current=e,this.subvalue=e,this.subTitle=t.value,this.tagParameter.tag_data[2]=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handlesexcheckItem:function(t,e){this.sexvalue=e,this.sexTitle=t.value,this.tagParameter.sex=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handleentcheckItem:function(t,e){console.log("",t),this.entvalue=e,this.entTitle=t.value,this.tagParameter.class=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handleSubChange:function(t){var e=this;this.options1.map((function(n){n.value==t&&(e.subTitle=n.label)}))},handleSexChange:function(t){var e=this;console.log("选项卡的值",t),this.options2.map((function(n){n.value==t&&(e.sexTitle=n.label)}))},handleEntChange:function(t){var e=this;this.options3.map((function(n){n.value==t&&(e.entTitle=n.label)}))},handleVisitorsJump:function(e){console.log("配音师列表",e.teacher_id),t.setStorageSync("current",this.options1[this.current].value),t.navigateTo({url:"/subpkg/pages/teacherlist/teacherlist?id="+e.teacher_id})},playTheMusic:function(t){var e=this;console.log("传过来的数据",t),this.audioShow=!0,this.dataPlay.works.url===t.works.url?this.dataList.map((function(n){e.dataPlay===n?t.works.playStatus=!t.works.playStatus:n.playStatus=!1})):(this.dataList.map((function(t){t.works.playStatus=!1})),t.works.playStatus=!0,this.dataPlay=t,(0,c.buriedSomeStatistical)(0)),setTimeout((function(){e.$refs.musicAudio.preStartPlay()}),0)},handleChangePlay:function(t){var e=this;this.dataList.map((function(n){e.dataPlay===n?n.works.playStatus=t:n.works.playStatus=!1}))},musicClose:function(){this.dataList.map((function(t){t.works.playStatus=!1})),this.audioShow=!1,this.dataPlay={works:{url:""}}},handlerankingPopShow:function(){var e=this;(0,a.servicerank)(this.tagParameter).then((function(t){console.log("成功",t),e.rankData=t.data,e.rankingPopShow=!0})).catch((function(e){console.log("失败"),t.showToast({title:e.errmsg,icon:"none"})}))},handleCanceranking:function(){this.rankingPopShow=!1},handleruku:function(){t.previewImage({urls:["https://www.peiyinstreet.com/guidang/peiyinguwen.png"],longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(t){console.log("选中了第"+(t.tapIndex+1)+"个按钮,第"+(t.index+1)+"张图片")},fail:function(t){console.log(t.errMsg)}}})},handlecloseerweima:function(){this.notputShow=!1,this.rukuShow=!1},handlechangehome:function(){t.switchTab({url:"/pages/index/index"})},handleFocus:function(t,e){var n=this;(0,i.changeFocus)({teacher_id:t.teacher_id,type:e}).then((function(o){console.log("选中的配音师",t),n.dataList.map((function(n){n.id==t.id&&(n.type=1===e?0:1)}))}))}})};e.default=w}).call(this,n(1)["default"])},167:function(t,e,n){"use strict";n.r(e);var o=n(168),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},168:function(t,e,n){},169:function(t,e,n){"use strict";n.r(e);var o=n(170),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},170:function(t,e,n){}},[[161,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/subpkg/pages/voicelist/voicelist.js.map