(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/pages/samplevoices/samplevoices"],{372:function(t,e,n){"use strict";(function(t){n(5);a(n(3));var e=a(n(373));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},373:function(t,e,n){"use strict";n.r(e);var a=n(374),o=n(376);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n(378),n(380);var i,s=n(17),c=Object(s["default"])(o["default"],a["render"],a["staticRenderFns"],!1,null,"852ec5e2",null,!1,a["components"],i);c.options.__file="subpkg/pages/samplevoices/samplevoices.vue",e["default"]=c.exports},374:function(t,e,n){"use strict";n.r(e);var a=n(375);n.d(e,"render",(function(){return a["render"]})),n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(e,"components",(function(){return a["components"]}))},375:function(t,e,n){"use strict";var a;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return i})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return a}));try{a={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,392))},uDropdown:function(){return n.e("uview-ui/components/u-dropdown/u-dropdown").then(n.bind(null,473))},uDropdownItem:function(){return n.e("uview-ui/components/u-dropdown-item/u-dropdown-item").then(n.bind(null,480))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,487))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,459))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,466))},release:function(){return Promise.all([n.e("common/vendor"),n.e("components/release/release")]).then(n.bind(null,494))},dropball:function(){return n.e("components/dropball/dropball").then(n.bind(null,413))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var t=this,e=t.$createElement,n=(t._self._c,0==t.currentStatus?t.__map(t.dataList,(function(e,n){var a=t.__get_orig(e),o=t.transformsex(e.teacher.sex);return{$orig:a,m0:o}})):null);t._isMounted||(t.e0=function(e){0===t.operationItem.share_type?t.handlejoincloudAdd(t.operationItem):t.handlejoincloud(t.operationItem)}),t.$mp.data=Object.assign({},{$root:{l0:n}})},r=!1,i=[];o._withStripped=!0},376:function(t,e,n){"use strict";n.r(e);var a=n(377),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},377:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=p(n(9)),o=n(12),r=n(67),i=n(46),s=p(n(68)),c=p(n(69)),u=p(n(103)),l=p(n(104)),d=n(732),h=p(n(81));function p(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n,a,o,r,i){try{var s=t[r](i),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){f(r,a,o,i,s,"next",t)}function s(t){f(r,a,o,i,s,"throw",t)}i(void 0)}))}}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(){n.e("components/dropball/dropball").then(function(){return resolve(n(413))}.bind(null,n)).catch(n.oe)},_=function(){n.e("components/audio/audioplay").then(function(){return resolve(n(422))}.bind(null,n)).catch(n.oe)},y={components:{dropball:v,musicAudio:_},data:function(){var t;return t={background:{backgroundColor:"#FFFFFF"},barStyle:{backgroundColor:"#FF445A"},orderPromptShow:!1,speedPromptShow:!1,current:0,play:s.default,playActive:c.default,list:[{name:"找样音",id:0},{name:"找配音师",id:2},{name:"找案例",id:3}],tagParameter:{page:1,size:10,tag_data:{2:[]},status:0,price:0,sex:0,cate:0,search:"",search_type:1},objData:{},subTitle:"题材",sexTitle:"性别",entTitle:"价格"},b(t,"play",s.default),b(t,"playActive",c.default),b(t,"shouchang",u.default),b(t,"yishouchang",l.default),b(t,"worksplay","https://www.peiyinstreet.com/guidang/play.png"),b(t,"worksplayActive","https://www.peiyinstreet.com/guidang/palyActive.png"),b(t,"options1",[]),b(t,"options2",[]),b(t,"options3",[]),b(t,"scrollInto",0),b(t,"scrollTop",0),b(t,"cate",1),b(t,"dataList",[]),b(t,"dataPlay",{works:{url:""}}),b(t,"submitShow",!1),b(t,"collectShow",!1),b(t,"currentStatus",0),b(t,"operationItem",{}),b(t,"audioShow",!1),b(t,"has_next",""),b(t,"dataObj",{teacher_id:"",service_id:"",status:1,filename:"",content_url_escape:"",work_id:"",avatar:"",nickname:"",offer_price:"",subjecttype:""}),b(t,"firstItem",{}),b(t,"triggered",!1),b(t,"_freshing",!1),b(t,"btnText","按样音效果试音"),b(t,"placeholderText","搜索样音关键词"),b(t,"defaultshow",!1),t},onShareAppMessage:function(t){return"button"===t.from&&console.log(t.target),{title:"5000+样音在线试听，报价比市场价低一半。点击收藏",desc:"",complete:function(t){console.log("分享成功",t)}}},onShareTimeline:function(t){return{title:"5000+样音在线试听，报价比市场价低一半",desc:"",complete:function(t){console.log("分享成功",t)}}},computed:w({},(0,o.mapState)("user",["token","userInfo","workStatus","order_status","speedPrompt_status"])),onLoad:function(t){this.current=0,0===this.speedPrompt_status?this.speedPromptShow=!1:(this.speedPromptShow=!0,(0,r.loginPopup)().then((function(t){console.log("每次见两次",t)}))),this.getUnionid()},onShow:function(){1==t.getStorageSync("worksType")&&(this.current=parseInt(t.getStorageSync("worksType")),this.getUnionid()),3==t.getStorageSync("worksType")?(this.current=2,this.getUnionid()):2==t.getStorageSync("worksType")?(this.current=0,this.getUnionid()):(this.current=this.current,this.getUnionid()),"{}"!==JSON.stringify(this.workStatus)&&(this.tagParameter.tag_data[2]=this.workStatus.tag_id,"影视动画配音"==this.workStatus.name?this.subTitle="动漫配音":this.subTitle=this.workStatus.name,this.getUnionid())},onHide:function(){this.musicClose(),t.setStorageSync("worksType","")},methods:w(w({},(0,o.mapActions)("user",["login","getIphoneStatus"])),{},{getUnionid:function(){var e=this;t.login({provider:"weixin",success:function(){var t=g(a.default.mark((function t(n){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.login(n.code);case 2:return t.next=4,e.getIphoneStatus();case 4:e.handleServicetag(),e.tagParameter.status=e.current,e.getVoicelist();case 7:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),fail:function(t){console.log("登录失败",t),e.handleServicetag(),e.tagParameter.status=e.current,e.getVoicelist()}})},transformsex:function(t){return 1===t?"男声":2===t?"女声":"企业"},handlerefre:function(){this.triggered=!0,this._freshing=!0,this.getVoicelist()},change:function(t){this.current=t,this.tagParameter={page:1,size:10,tag_data:{2:[]},status:0,price:0,sex:0,cate:0,search:"",search_type:0},this.subTitle="题材",this.sexTitle="性别",this.tagParameter.tag_data[2]="",this.tagParameter.status=this.current,this.getVoicelist(),this.handleServicetag()},handleServicetag:function(){var t=this;(0,r.servicetag)({cate:this.cate}).then((function(e){t.options1=e.data.tag_data,t.options2=e.data.sex,2==t.current?(t.entTitle="个企",t.options3=e.data.cate):(t.entTitle="价格",t.options3=e.data.price),t.userStatus=e.data.status,t.navTitle=e.data.catename}))},handleshutdownC:function(){this.speedPromptShow=!1},getVoicelist:function(){var t=this;return g(a.default.mark((function e(){var n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tagParameter.page=1,0===t.current?t.placeholderText="搜索样音关键词":1===t.current?t.placeholderText="搜索配音师昵称":t.placeholderText="搜索案例关键词",e.next=4,(0,r.servicsecList)(t.tagParameter);case 4:n=e.sent,t.$store.commit("user/setworkStatus",{}),console.log("res新数据",n),t.triggered=!1,t._freshing=!1,t.dataList=n.data,t.scrollInto=t.scrollTop,t.currentStatus=t.current,0===t.dataList.length?(t.has_next="",t.defaultshow=!0):(t.has_next=n.has_next,t.defaultshow=!1),setTimeout((function(){t.scrollInto=0}),0);case 14:case"end":return e.stop()}}),e)})))()},handleCloudShare:function(e){console.log("进入云分享",e),t.navigateTo({url:"/subpkg/pages/voicesshare/voicesshare"}),this.collectShow=!1},handlejoincloudAdd:function(e){var n=this;console.log("加入云分享",e),(0,i.shareAdd)({work_id:e.works.id}).then((function(e){console.log(),1===n.operationItem.share_type?(n.operationItem.share_type=0,t.showToast({title:"移除成功",icon:"none"})):n.operationItem.share_type=1}))},handlejoincloud:function(e){var n=this;console.log("移除云分享",e);(0,i.shareDel)({work_id:e.works.id}).then((function(e){console.log(),1===n.operationItem.share_type?(n.operationItem.share_type=0,t.showToast({title:"移除成功",icon:"none"})):n.operationItem.share_type=1}))},handlefirstTimeUseOrder:function(t){this.firstItem=t,this.orderPromptShow=!0,this.collectShow=!1,(0,d.buriedSomeStatistical)(3),(0,d.buriedSomeStatistical)(4)},handlejupumUseOrder:function(){var e=this.firstItem;e.admin_price?(this.dataObj.service_id=e.service_id,this.dataObj.teacher_id=e.teacher_id,this.dataObj.filename=e.works.title,this.dataObj.content_url_escape=e.url,this.dataObj.work_id=e.works.id,this.dataObj.avatar=e.teacher.avatar,this.dataObj.nickname=e.teacher.nickname,this.dataObj.offer_price=e.offer_price,this.dataObj.subjecttype=e.tags[0].value,this.btnText="按样音效果试音",t.setStorageSync("dataObj",this.dataObj),t.navigateTo({url:"/subpkg/pages/voicesrelease/voicesrelease"})):t.showToast({title:"该服务暂不支持在线试音，请联系客服",icon:"none"}),this.orderPromptShow=!1,(0,d.buriedSomeStatistical)(5)},handlecloseCoupons:function(){this.orderPromptShow=!1},handleUseOrder:function(e){console.log("使用样音下单,用户下单状态",e,this.order_status),e.admin_price?(this.dataObj.service_id=e.service_id,this.dataObj.teacher_id=e.teacher_id,this.dataObj.filename=e.works.title,this.dataObj.content_url_escape=e.url,this.dataObj.work_id=e.works.id,this.dataObj.avatar=e.teacher.avatar,this.dataObj.nickname=e.teacher.nickname,this.dataObj.offer_price=e.offer_price,this.dataObj.subjecttype=e.tags[0].value,this.btnText="按样音效果试音",t.setStorageSync("dataObj",this.dataObj),t.navigateTo({url:"/subpkg/pages/voicesrelease/voicesrelease"})):t.showToast({title:"该服务暂不支持在线试音，请联系客服",icon:"none"}),(0,d.buriedSomeStatistical)(3)},handlecaseDetails:function(e){console.log("跳转到案例详情页面",e),t.navigateTo({url:"/subpkg/pages/caseDetails/caseDetails?id="+e.id})},handleOperation:function(t){console.log("点击操作打印数据",t),this.operationItem=t,this.collectShow=!0},hanldeCancelcoll:function(){this.collectShow=!1},handleCollectStatus:function(){var t=this,e={work_id:this.operationItem.works.id,type:this.operationItem.work_type};(0,r.collection)(e).then((function(e){console.log(e),1===t.operationItem.work_type?t.operationItem.work_type=0:t.operationItem.work_type=1})).catch((function(t){}))},getsubmitShow:function(){this.submitShow=!1},reachBottom:function(){var t=this;return g(a.default.mark((function e(){var n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.has_next){e.next=12;break}return t.tagParameter.page=t.tagParameter.page+1,e.next=4,(0,r.servicsecList)(t.tagParameter);case 4:n=e.sent,console.log("res新数据",n),t.triggered=!1,t.has_next=n.has_next,n.data.map((function(e){t.dataList.push(e)})),0===t.dataList.length?(t.defaultshow=!0,t.has_next=""):t.defaultshow=!1,e.next=12;break;case 12:case"end":return e.stop()}}),e)})))()},tabScoll:function(t){this.scrollTop=t.detail.scrollTop},handlecheckItem:function(t,e){this.subvalue=e,this.subTitle=t.value,this.tagParameter.tag_data[2]=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handlesexcheckItem:function(t,e){console.log("性别数据",t,e),this.sexvalue=e,this.sexTitle=t.value,this.tagParameter.sex=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handleentcheckItem:function(t,e){console.log("价格数据",t,e),this.entvalue=e,this.entTitle=t.value,2==this.current?this.tagParameter.cate=t.id:this.tagParameter.price=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handleVisitorsJump:function(e){t.setStorageSync("current",e.tags[0].value),t.navigateTo({url:"/subpkg/pages/teacherlist/teacherlist?id="+e.teacher_id})},handleSearch:function(t){console.log("dengyuduoshao",t),this.getVoicelist()},replaceInput:function(t){var e=t.target.value;"11"===e&&(this.changeValue="2")},hideKeyboard:function(e){"123"===e.target.value&&t.hideKeyboard()},playTheMusic:function(t){var e=this;console.log("传过来的数据",t),this.audioShow=!0,this.dataPlay.works.url===t.works.url?this.dataList.map((function(n){e.dataPlay===n?t.works.playStatus=!t.works.playStatus:n.playStatus=!1})):(this.dataList.map((function(t){t.works.playStatus=!1})),t.works.playStatus=!0,this.dataPlay=t,(0,d.buriedSomeStatistical)(0)),setTimeout((function(){e.$refs.musicAudio.preStartPlay()}),0)},handleChangePlay:function(t){var e=this;this.dataList.map((function(n){e.dataPlay===n?n.works.playStatus=t:n.works.playStatus=!1}))},musicClose:function(){this.dataList.map((function(t){t.works.playStatus=!1})),this.audioShow=!1,this.dataPlay={works:{url:""}}},downloadcopy:function(e,n){(0,h.default)({content:e,success:function(e){t.showToast({title:n,icon:"none"})},error:function(t){}}),(0,d.buriedSomeStatistical)(1)},handleGoBack:function(){t.switchTab({url:"/pages/index/index"})},downloadcopySampleVoices:function(e,n){return g(a.default.mark((function o(){var r;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,i.teacherdetail)({teacher_id:e.teacher_id});case 2:a.sent,r="样音信息："+e.teacher.nickname+"("+e.teacher.grade_text+")+"+e.title+"+"+e.offer_price+"+下载链接 "+e.works.url,console.log(e,r),(0,h.default)({content:r,success:function(e){t.showToast({title:n,icon:"none"})},error:function(t){}}),(0,d.buriedSomeStatistical)(9);case 7:case"end":return a.stop()}}),o)})))()}})};e.default=y}).call(this,n(1)["default"])},378:function(t,e,n){"use strict";n.r(e);var a=n(379),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},379:function(t,e,n){},380:function(t,e,n){"use strict";n.r(e);var a=n(381),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},381:function(t,e,n){}},[[372,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/subpkg/pages/samplevoices/samplevoices.js.map