(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/soundlibrary/soundlibrary"],{100:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i})),n.d(e,"recyclableRender",(function(){return a})),n.d(e,"components",(function(){return o}));try{o={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,285))},uTabs:function(){return n.e("uview-ui/components/u-tabs/u-tabs").then(n.bind(null,324))},uDropdown:function(){return n.e("uview-ui/components/u-dropdown/u-dropdown").then(n.bind(null,352))},uDropdownItem:function(){return n.e("uview-ui/components/u-dropdown-item/u-dropdown-item").then(n.bind(null,359))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,366))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,338))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,345))},release:function(){return Promise.all([n.e("common/vendor"),n.e("components/release/release")]).then(n.bind(null,373))},dropball:function(){return n.e("components/dropball/dropball").then(n.bind(null,292))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var t=this,e=t.$createElement,n=(t._self._c,0==t.currentStatus?t.__map(t.dataList,(function(e,n){var o=t.__get_orig(e),r=t.transformsex(e.teacher.sex);return{$orig:o,m0:r}})):null);t.$mp.data=Object.assign({},{$root:{l0:n}})},a=!1,i=[];r._withStripped=!0},101:function(t,e,n){"use strict";n.r(e);var o=n(102),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a},102:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=d(n(9)),r=n(12),a=n(67),i=d(n(68)),s=d(n(69)),u=d(n(103)),c=d(n(104)),l=d(n(81));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e,n,o,r,a,i){try{var s=t[a](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(o,r)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){h(a,o,r,i,s,"next",t)}function s(t){h(a,o,r,i,s,"throw",t)}i(void 0)}))}}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(){n.e("components/dropball/dropball").then(function(){return resolve(n(292))}.bind(null,n)).catch(n.oe)},b=function(){n.e("components/audio/audioplay").then(function(){return resolve(n(301))}.bind(null,n)).catch(n.oe)},v={components:{dropball:w,musicAudio:b},data:function(){var t;return t={background:{backgroundColor:"#FFFFFF"},barStyle:{backgroundColor:"#FF445A"},current:0,play:i.default,playActive:s.default,list:[{name:"找作品",id:0},{name:"找配音师",id:2},{name:"找案例",id:3}],tagParameter:{page:1,size:10,tag_data:{2:[]},status:0,price:0,sex:0,search:""},objData:{},subTitle:"题材",sexTitle:"性别",entTitle:"价格"},m(t,"play",i.default),m(t,"playActive",s.default),m(t,"shouchang",u.default),m(t,"yishouchang",c.default),m(t,"worksplay","https://www.peiyinstreet.com/guidang/play.png"),m(t,"worksplayActive","https://www.peiyinstreet.com/guidang/palyActive.png"),m(t,"options1",[]),m(t,"options2",[]),m(t,"options3",[]),m(t,"scrollInto",0),m(t,"scrollTop",0),m(t,"cate",1),m(t,"dataList",[]),m(t,"dataPlay",{works:{url:""}}),m(t,"submitShow",!1),m(t,"collectShow",!1),m(t,"currentStatus",0),m(t,"operationItem",{}),m(t,"audioShow",!1),m(t,"has_next",""),m(t,"dataObj",{teacher_id:"",service_id:"",status:1,filename:"",content_url_escape:"",work_id:"",avatar:"",nickname:"",offer_price:""}),m(t,"triggered",!1),m(t,"_freshing",!1),m(t,"btnText","按作品效果试音"),m(t,"placeholderText","搜索作品关键词"),m(t,"defaultshow",!1),t},onShareAppMessage:function(t){return"button"===t.from&&console.log(t.target),{title:"5000+样音在线试听，报价比市场价低一半。点击收藏",desc:"",complete:function(t){console.log("分享成功",t)}}},computed:g({},(0,r.mapState)("user",["token","userInfo","workStatus"])),onLoad:function(t){this.current=0,console.log("this.currue的值0",this.current),this.getUnionid()},onShow:function(){console.log("多少",t.getStorageSync("worksType"),this.workStatus),1==t.getStorageSync("worksType")?(console.log("this.currue的值1",this.current),this.current=parseInt(t.getStorageSync("worksType")),this.getUnionid()):2==t.getStorageSync("worksType")?(console.log("this.currue的值2",this.current),this.current=0,this.getUnionid()):(console.log("哈哈"),this.current=this.current),"{}"!==JSON.stringify(this.workStatus)&&(this.tagParameter.tag_data[2]=this.workStatus.tag_id,this.subTitle=this.workStatus.name,this.getUnionid()),console.log("this.currue的值3",this.current)},onHide:function(){this.musicClose(),t.setStorageSync("worksType","")},methods:g(g({},(0,r.mapActions)("user",["login"])),{},{getUnionid:function(){var e=this;t.login({provider:"weixin",success:function(){var t=f(o.default.mark((function t(n){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("this.currue的值4",e.current),t.next=3,e.login(n.code);case 3:e.handleServicetag(),e.tagParameter.status=e.current,e.getVoicelist();case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),fail:function(t){console.log("登录失败",t)}})},transformsex:function(t){return 1===t?"男声":2===t?"女声":"企业"},handlerefre:function(){this.triggered=!0,this._freshing=!0,console.log("测试下来刷新复位问题",this.triggered,this._freshing),this.getVoicelist()},change:function(t){console.log("点击的tabs",t),this.current=t,this.tagParameter={page:1,size:10,tag_data:{2:[]},status:0,price:0,sex:0,search:""},this.subTitle="题材",this.sexTitle="性别",this.tagParameter.tag_data[2]="",this.tagParameter.status=this.current,this.getVoicelist(),this.handleServicetag()},handleServicetag:function(){var t=this;(0,a.servicetag)({cate:this.cate}).then((function(e){console.log("标签数据",e.data),t.entTitle="价格",t.options1=e.data.tag_data,t.options3=e.data.price,t.options2=e.data.sex,t.userStatus=e.data.status,t.navTitle=e.data.catename}))},getVoicelist:function(){var t=this;return f(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tagParameter.page=1,0===t.current?t.placeholderText="搜索作品关键词":t.placeholderText="搜索配音师昵称",e.next=4,(0,a.servicsecList)(t.tagParameter);case 4:n=e.sent,t.$store.commit("user/setworkStatus",{}),console.log("res新数据",n),t.triggered=!1,t._freshing=!1,t.dataList=n.data,t.scrollInto=t.scrollTop,t.currentStatus=t.current,0===t.dataList.length?(t.has_next="",t.defaultshow=!0):(t.has_next=n.has_next,t.defaultshow=!1),setTimeout((function(){t.scrollInto=0}),0);case 14:case"end":return e.stop()}}),e)})))()},handleUseOrder:function(e){console.log("使用样音下单",e),e.admin_price?(this.dataObj.service_id=e.service_id,this.dataObj.teacher_id=e.teacher_id,this.dataObj.filename=e.works.title,this.dataObj.content_url_escape=e.url,this.dataObj.work_id=e.works.id,this.dataObj.avatar=e.teacher.avatar,this.dataObj.nickname=e.teacher.nickname,this.dataObj.offer_price=e.offer_price,this.btnText="按作品效果试音",t.setStorageSync("dataObj",this.dataObj),t.navigateTo({url:"/subpkg/pages/voicesrelease/voicesrelease"})):t.showToast({title:"该服务暂不支持在线试音，请联系客服",icon:"none"})},handleOperation:function(t){console.log("点击操作打印数据",t),this.operationItem=t,this.collectShow=!0},hanldeCancelcoll:function(){this.collectShow=!1},handleCollectStatus:function(){var t=this,e={work_id:this.operationItem.works.id,type:this.operationItem.work_type};(0,a.collection)(e).then((function(e){console.log(e),1===t.operationItem.work_type?t.operationItem.work_type=0:t.operationItem.work_type=1})).catch((function(t){}))},getsubmitShow:function(){this.submitShow=!1},reachBottom:function(){var t=this;return f(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.has_next){e.next=12;break}return t.tagParameter.page=t.tagParameter.page+1,e.next=4,(0,a.servicsecList)(t.tagParameter);case 4:n=e.sent,console.log("res新数据",n),t.triggered=!1,t.has_next=n.has_next,n.data.map((function(e){t.dataList.push(e)})),0===t.dataList.length?(t.defaultshow=!0,t.has_next=""):t.defaultshow=!1,e.next=12;break;case 12:case"end":return e.stop()}}),e)})))()},tabScoll:function(t){this.scrollTop=t.detail.scrollTop},handlecheckItem:function(t,e){this.subvalue=e,this.subTitle=t.value,this.tagParameter.tag_data[2]=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handlesexcheckItem:function(t,e){console.log("性别数据",t,e),this.sexvalue=e,this.sexTitle=t.value,this.tagParameter.sex=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handleentcheckItem:function(t,e){console.log("价格数据",t,e),this.entvalue=e,this.entTitle=t.value,this.tagParameter.price=t.id,this.getVoicelist(),this.$refs.subuDropdown.close()},handleVisitorsJump:function(e){t.setStorageSync("current",e.tags[0].value),t.navigateTo({url:"/subpkg/pages/teacherlist/teacherlist?id="+e.teacher_id})},handleSearch:function(t){console.log("dengyuduoshao",t),this.getVoicelist()},replaceInput:function(t){var e=t.target.value;"11"===e&&(this.changeValue="2")},hideKeyboard:function(e){"123"===e.target.value&&t.hideKeyboard()},playTheMusic:function(t){var e=this;console.log("传过来的数据",t),this.audioShow=!0,this.dataPlay.works.url===t.works.url?this.dataList.map((function(n){e.dataPlay===n?t.works.playStatus=!t.works.playStatus:n.playStatus=!1})):(this.dataList.map((function(t){t.works.playStatus=!1})),t.works.playStatus=!0,this.dataPlay=t),setTimeout((function(){e.$refs.musicAudio.preStartPlay()}),0)},handleChangePlay:function(t){var e=this;this.dataList.map((function(n){e.dataPlay===n?n.works.playStatus=t:n.works.playStatus=!1}))},musicClose:function(){this.dataList.map((function(t){t.works.playStatus=!1})),this.audioShow=!1,this.dataPlay={works:{url:""}}},downloadcopy:function(e,n){(0,l.default)({content:e,success:function(e){t.showToast({title:n,icon:"none"})},error:function(t){}})}})};e.default=v}).call(this,n(1)["default"])},105:function(t,e,n){"use strict";n.r(e);var o=n(106),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a},106:function(t,e,n){},107:function(t,e,n){"use strict";n.r(e);var o=n(108),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a},108:function(t,e,n){},97:function(t,e,n){"use strict";(function(t){n(5);o(n(3));var e=o(n(98));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},98:function(t,e,n){"use strict";n.r(e);var o=n(99),r=n(101);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n(105),n(107);var i,s=n(17),u=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"68b52386",null,!1,o["components"],i);u.options.__file="pages/soundlibrary/soundlibrary.vue",e["default"]=u.exports},99:function(t,e,n){"use strict";n.r(e);var o=n(100);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))}},[[97,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/soundlibrary/soundlibrary.js.map